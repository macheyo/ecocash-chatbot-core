.00:43:32.985 WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4h24m33s369ms101µs999ns). 
.02:15:08.615 WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=7m5s327ms809µs100ns). 
.02:57:53.470 ERROR z.c.c.e.security.JwtTokenProvider - Invalid JWT token 
.02:57:53.758 INFO  z.c.c.e.security.AuthApi - Generate Token Request.... 
.02:57:54.148 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.03:37:35.124 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default' 
.03:37:35.136 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated... 
.03:37:35.144 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed. 
.03:37:49.053 INFO  z.c.c.e.EcocashChatbotCoreApplication - Starting EcocashChatbotCoreApplication using Java 1.8.0_271 on LAPTOP-1JQH6S1S with PID 23484 (C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core\target\classes started by Kudzai Macheyo in C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core) 
.03:37:49.053 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final 
.03:37:49.061 INFO  z.c.c.e.EcocashChatbotCoreApplication - The following profiles are active: dev 
.03:37:51.166 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode! 
.03:37:51.166 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFERRED mode. 
.03:37:51.562 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 378 ms. Found 9 JPA repository interfaces. 
.03:37:52.552 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5bb7643d' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.03:37:52.569 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.03:37:54.049 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http) 
.03:37:54.076 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"] 
.03:37:54.076 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat] 
.03:37:54.076 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.50] 
.03:37:54.353 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring embedded WebApplicationContext 
.03:37:54.353 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5193 ms 
.03:37:54.842 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default] 
.03:37:55.004 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final 
.03:37:55.411 INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final} 
.03:37:55.720 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting... 
.03:37:56.086 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed. 
.03:37:56.171 INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect 
.03:37:56.286 INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true 
.03:37:59.119 ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not determine type for: java.util.List, at table: prompt, for columns: [org.hibernate.mapping.Column(functions)] 
.03:37:59.120 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not determine type for: java.util.List, at table: prompt, for columns: [org.hibernate.mapping.Column(functions)] 
.03:37:59.120 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated... 
.03:37:59.131 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed. 
.03:37:59.133 INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat] 
.03:37:59.251 INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled. 
.03:37:59.277 ERROR o.s.boot.SpringApplication - Application run failed 
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not determine type for: java.util.List, at table: prompt, for columns: [org.hibernate.mapping.Column(functions)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:338)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332)
	at zw.co.cassavasmartech.ecocashchatbotcore.EcocashChatbotCoreApplication.main(EcocashChatbotCoreApplication.java:16)
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not determine type for: java.util.List, at table: prompt, for columns: [org.hibernate.mapping.Column(functions)]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1845)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 16 common frames omitted
Caused by: org.hibernate.MappingException: Could not determine type for: java.util.List, at table: prompt, for columns: [org.hibernate.mapping.Column(functions)]
	at org.hibernate.mapping.SimpleValue.getType(SimpleValue.java:499)
	at org.hibernate.mapping.SimpleValue.isValid(SimpleValue.java:466)
	at org.hibernate.mapping.Property.isValid(Property.java:227)
	at org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:624)
	at org.hibernate.mapping.RootClass.validate(RootClass.java:267)
	at org.hibernate.boot.internal.MetadataImpl.validate(MetadataImpl.java:354)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:298)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 20 common frames omitted
.03:39:38.634 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final 
.03:39:38.636 INFO  z.c.c.e.EcocashChatbotCoreApplication - Starting EcocashChatbotCoreApplication using Java 1.8.0_271 on LAPTOP-1JQH6S1S with PID 29272 (C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core\target\classes started by Kudzai Macheyo in C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core) 
.03:39:38.638 INFO  z.c.c.e.EcocashChatbotCoreApplication - The following profiles are active: dev 
.03:39:39.474 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode! 
.03:39:39.481 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFERRED mode. 
.03:39:39.616 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 128 ms. Found 9 JPA repository interfaces. 
.03:39:39.984 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@773e2eb5' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.03:39:39.993 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.03:39:40.632 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http) 
.03:39:40.640 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"] 
.03:39:40.640 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat] 
.03:39:40.640 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.50] 
.03:39:40.759 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring embedded WebApplicationContext 
.03:39:40.759 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2075 ms 
.03:39:40.927 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default] 
.03:39:40.981 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final 
.03:39:41.087 INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final} 
.03:39:41.186 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting... 
.03:39:41.316 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed. 
.03:39:41.338 INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect 
.03:39:41.383 INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true 
.03:39:43.144 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform] 
.03:39:43.148 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default' 
.03:39:43.227 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning 
.03:39:43.349 INFO  o.s.s.l.DefaultSpringSecurityContextSource -  URL 'ldap://192.168.101.47:389', root DN is '' 
.03:39:44.381 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure Ant [pattern='/dialogflow/**'] with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7a13ad55, org.springframework.security.web.context.SecurityContextPersistenceFilter@1b5d1d9, org.springframework.security.web.header.HeaderWriterFilter@25a2f432, org.springframework.security.web.authentication.logout.LogoutFilter@516155b5, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@22c0344e, zw.co.cassavasmartech.ecocashchatbotcore.security.CustomFilter@303db609, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@790d629a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b409174, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@20a116a0, org.springframework.security.web.session.SessionManagementFilter@31b7112d, org.springframework.security.web.access.ExceptionTranslationFilter@2352c21f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@411ae0d7] 
.03:39:44.385 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@acea29e, org.springframework.security.web.context.SecurityContextPersistenceFilter@325e03b, org.springframework.security.web.header.HeaderWriterFilter@23b087c3, org.springframework.security.web.authentication.logout.LogoutFilter@75b3ef1a, zw.co.cassavasmartech.ecocashchatbotcore.security.JWTFilter@772bc4c9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3911fec8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e38e8b6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@152dbf8e, org.springframework.security.web.session.SessionManagementFilter@237c8718, org.springframework.security.web.access.ExceptionTranslationFilter@6b4a2887, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@554e9509] 
.03:39:44.911 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"] 
.03:39:44.964 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/ecocashbotcore' 
.03:39:44.965 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Triggering deferred initialization of Spring Data repositories… 
.03:39:46.504 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Spring Data repositories initialized! 
.03:39:46.520 INFO  z.c.c.e.EcocashChatbotCoreApplication - Started EcocashChatbotCoreApplication in 8.248 seconds (JVM running for 8.731) 
.03:39:47.578 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring DispatcherServlet 'dispatcherServlet' 
.03:39:47.578 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet' 
.03:39:47.581 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms 
.03:40:16.261 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default' 
.03:40:16.262 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated... 
.03:40:16.269 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed. 
.03:40:21.319 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final 
.03:40:21.331 INFO  z.c.c.e.EcocashChatbotCoreApplication - Starting EcocashChatbotCoreApplication using Java 1.8.0_271 on LAPTOP-1JQH6S1S with PID 24676 (C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core\target\classes started by Kudzai Macheyo in C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core) 
.03:40:21.332 INFO  z.c.c.e.EcocashChatbotCoreApplication - The following profiles are active: dev 
.03:40:23.041 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode! 
.03:40:23.043 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFERRED mode. 
.03:40:23.774 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 719 ms. Found 9 JPA repository interfaces. 
.03:40:24.441 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@2c306a57' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.03:40:24.448 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.03:40:26.090 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http) 
.03:40:26.103 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"] 
.03:40:26.103 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat] 
.03:40:26.104 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.50] 
.03:40:26.318 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring embedded WebApplicationContext 
.03:40:26.318 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4940 ms 
.03:40:26.590 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default] 
.03:40:26.644 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final 
.03:40:26.779 INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final} 
.03:40:26.896 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting... 
.03:40:27.121 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed. 
.03:40:27.205 INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect 
.03:40:27.323 INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true 
.03:40:31.946 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform] 
.03:40:31.964 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default' 
.03:40:32.157 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning 
.03:40:32.475 INFO  o.s.s.l.DefaultSpringSecurityContextSource -  URL 'ldap://192.168.101.47:389', root DN is '' 
.03:40:34.153 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure Ant [pattern='/dialogflow/**'] with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42a7e7e1, org.springframework.security.web.context.SecurityContextPersistenceFilter@44428583, org.springframework.security.web.header.HeaderWriterFilter@2cb53bfc, org.springframework.security.web.authentication.logout.LogoutFilter@69356aca, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@55e88bc, zw.co.cassavasmartech.ecocashchatbotcore.security.CustomFilter@e2d9923, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7d4b32d1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a7437d8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@554e9509, org.springframework.security.web.session.SessionManagementFilter@516155b5, org.springframework.security.web.access.ExceptionTranslationFilter@2f3c7b24, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@325e03b] 
.03:40:34.161 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@201b52f7, org.springframework.security.web.context.SecurityContextPersistenceFilter@794f937a, org.springframework.security.web.header.HeaderWriterFilter@4946dfde, org.springframework.security.web.authentication.logout.LogoutFilter@4e25282d, zw.co.cassavasmartech.ecocashchatbotcore.security.JWTFilter@435a2c7d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7aa1fb0e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5e663ab, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@57806346, org.springframework.security.web.session.SessionManagementFilter@77972964, org.springframework.security.web.access.ExceptionTranslationFilter@7a7f2247, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@33f4844b] 
.03:40:34.994 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"] 
.03:40:35.039 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/ecocashbotcore' 
.03:40:35.039 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Triggering deferred initialization of Spring Data repositories… 
.03:40:36.040 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring DispatcherServlet 'dispatcherServlet' 
.03:40:36.040 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet' 
.03:40:36.040 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms 
.03:40:36.627 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Spring Data repositories initialized! 
.03:40:36.640 INFO  z.c.c.e.EcocashChatbotCoreApplication - Started EcocashChatbotCoreApplication in 15.688 seconds (JVM running for 16.173) 
.03:43:02.544 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default' 
.03:43:02.548 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated... 
.03:43:02.569 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed. 
.03:43:06.555 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final 
.03:43:06.561 INFO  z.c.c.e.EcocashChatbotCoreApplication - Starting EcocashChatbotCoreApplication using Java 1.8.0_271 on LAPTOP-1JQH6S1S with PID 27080 (C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core\target\classes started by Kudzai Macheyo in C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core) 
.03:43:06.561 INFO  z.c.c.e.EcocashChatbotCoreApplication - The following profiles are active: dev 
.03:43:07.396 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode! 
.03:43:07.396 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFERRED mode. 
.03:43:07.528 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 127 ms. Found 9 JPA repository interfaces. 
.03:43:07.900 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@38a1c423' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.03:43:07.905 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.03:43:08.432 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http) 
.03:43:08.441 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"] 
.03:43:08.441 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat] 
.03:43:08.441 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.50] 
.03:43:08.550 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring embedded WebApplicationContext 
.03:43:08.550 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1941 ms 
.03:43:08.723 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default] 
.03:43:08.772 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final 
.03:43:08.875 INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final} 
.03:43:08.968 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting... 
.03:43:09.136 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed. 
.03:43:09.161 INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect 
.03:43:09.204 INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true 
.03:43:10.879 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform] 
.03:43:10.879 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default' 
.03:43:10.960 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning 
.03:43:11.080 INFO  o.s.s.l.DefaultSpringSecurityContextSource -  URL 'ldap://192.168.101.47:389', root DN is '' 
.03:43:12.153 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure Ant [pattern='/dialogflow/**'] with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@110318a7, org.springframework.security.web.context.SecurityContextPersistenceFilter@758311ed, org.springframework.security.web.header.HeaderWriterFilter@675bf541, org.springframework.security.web.authentication.logout.LogoutFilter@7a13ad55, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1791396b, zw.co.cassavasmartech.ecocashchatbotcore.security.CustomFilter@42ac309, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@446981a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@77ad2767, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4b4228cf, org.springframework.security.web.session.SessionManagementFilter@5d9d8ecf, org.springframework.security.web.access.ExceptionTranslationFilter@f252762, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@412440c1] 
.03:43:12.159 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@633c0a61, org.springframework.security.web.context.SecurityContextPersistenceFilter@28100232, org.springframework.security.web.header.HeaderWriterFilter@5dff108c, org.springframework.security.web.authentication.logout.LogoutFilter@2a2815cc, zw.co.cassavasmartech.ecocashchatbotcore.security.JWTFilter@49322d04, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@26728255, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@32c8d67, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b6b746b, org.springframework.security.web.session.SessionManagementFilter@22d47f09, org.springframework.security.web.access.ExceptionTranslationFilter@a20898c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5db66c3] 
.03:43:13.403 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"] 
.03:43:13.429 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/ecocashbotcore' 
.03:43:13.430 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Triggering deferred initialization of Spring Data repositories… 
.03:43:15.064 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Spring Data repositories initialized! 
.03:43:15.074 INFO  z.c.c.e.EcocashChatbotCoreApplication - Started EcocashChatbotCoreApplication in 8.89 seconds (JVM running for 9.362) 
.03:43:26.461 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring DispatcherServlet 'dispatcherServlet' 
.03:43:26.461 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet' 
.03:43:26.465 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms 
.03:51:53.012 ERROR z.c.c.e.security.JwtTokenProvider - Invalid JWT token 
.03:51:53.102 INFO  z.c.c.e.security.AuthApi - Generate Token Request.... 
.03:51:53.416 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.05:59:56.788 WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h55m47s389ms809µs800ns). 
.06:05:01.980 ERROR z.c.c.e.security.JwtTokenProvider - Invalid JWT token 
.06:05:01.987 INFO  z.c.c.e.security.AuthApi - Generate Token Request.... 
.06:05:02.153 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.06:07:29.875 ERROR z.c.c.e.security.JwtTokenProvider - Invalid JWT token 
.06:07:29.877 INFO  z.c.c.e.security.AuthApi - Generate Token Request.... 
.06:07:29.933 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.06:10:38.234 ERROR z.c.c.e.security.JwtTokenProvider - Invalid JWT token 
.06:10:38.237 INFO  z.c.c.e.security.AuthApi - Generate Token Request.... 
.06:10:38.299 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.06:33:41.222 ERROR z.c.c.e.security.JwtTokenProvider - Invalid JWT token 
.06:33:41.225 INFO  z.c.c.e.security.AuthApi - Generate Token Request.... 
.06:33:41.756 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.06:38:08.378 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default' 
.06:38:08.382 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated... 
.06:38:08.390 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed. 
.06:38:18.226 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final 
.06:38:18.239 INFO  z.c.c.e.EcocashChatbotCoreApplication - Starting EcocashChatbotCoreApplication using Java 1.8.0_271 on LAPTOP-1JQH6S1S with PID 9896 (C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core\target\classes started by Kudzai Macheyo in C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core) 
.06:38:18.240 INFO  z.c.c.e.EcocashChatbotCoreApplication - The following profiles are active: dev 
.06:38:21.140 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode! 
.06:38:21.150 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFERRED mode. 
.06:38:21.616 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 430 ms. Found 9 JPA repository interfaces. 
.06:38:22.890 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@2c306a57' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.06:38:22.899 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.06:38:25.305 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http) 
.06:38:25.316 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"] 
.06:38:25.316 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat] 
.06:38:25.317 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.50] 
.06:38:25.437 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring embedded WebApplicationContext 
.06:38:25.437 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 7109 ms 
.06:38:25.640 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default] 
.06:38:25.719 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final 
.06:38:25.967 INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final} 
.06:38:26.197 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting... 
.06:38:26.631 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed. 
.06:38:26.693 INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect 
.06:38:26.851 INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true 
.06:38:32.350 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform] 
.06:38:32.368 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default' 
.06:38:32.559 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning 
.06:38:32.878 INFO  o.s.s.l.DefaultSpringSecurityContextSource -  URL 'ldap://192.168.101.47:389', root DN is '' 
.06:38:35.481 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure Ant [pattern='/dialogflow/**'] with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e460ca1, org.springframework.security.web.context.SecurityContextPersistenceFilter@523f3c29, org.springframework.security.web.header.HeaderWriterFilter@1fc4483f, org.springframework.security.web.authentication.logout.LogoutFilter@11939a9f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@9ae0794, zw.co.cassavasmartech.ecocashchatbotcore.security.CustomFilter@411ae0d7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2fe38b73, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@23cb8fcb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@608c2042, org.springframework.security.web.session.SessionManagementFilter@3b17759c, org.springframework.security.web.access.ExceptionTranslationFilter@6b6606d1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2aac87ab] 
.06:38:35.488 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1e38e8b6, org.springframework.security.web.context.SecurityContextPersistenceFilter@210e2f2f, org.springframework.security.web.header.HeaderWriterFilter@4840ec68, org.springframework.security.web.authentication.logout.LogoutFilter@7267006e, zw.co.cassavasmartech.ecocashchatbotcore.security.JWTFilter@59bbf82e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@c31419f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@43dddfdd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@75b3ef1a, org.springframework.security.web.session.SessionManagementFilter@7cc3a7f7, org.springframework.security.web.access.ExceptionTranslationFilter@15a0f9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3911fec8] 
.06:38:36.428 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"] 
.06:38:36.487 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/ecocashbotcore' 
.06:38:36.488 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Triggering deferred initialization of Spring Data repositories… 
.06:38:37.970 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Spring Data repositories initialized! 
.06:38:37.990 INFO  z.c.c.e.EcocashChatbotCoreApplication - Started EcocashChatbotCoreApplication in 21.622 seconds (JVM running for 24.709) 
.06:48:22.213 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring DispatcherServlet 'dispatcherServlet' 
.06:48:22.213 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet' 
.06:48:22.217 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms 
.06:48:22.547 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/ecocashbotcore] threw exception [Request processing failed; nested exception is zw.co.cassavasmartech.ecocashchatbotcore.exception.PromptNotFoundException: Could not find prompt with Id: 4] with root cause 
zw.co.cassavasmartech.ecocashchatbotcore.exception.PromptNotFoundException: Could not find prompt with Id: 4
	at zw.co.cassavasmartech.ecocashchatbotcore.service.PromptServiceImpl.lambda$findById$1(PromptServiceImpl.java:31)
	at java.util.Optional.orElseThrow(Optional.java:290)
	at zw.co.cassavasmartech.ecocashchatbotcore.service.PromptServiceImpl.findById(PromptServiceImpl.java:31)
	at zw.co.cassavasmartech.ecocashchatbotcore.controller.PromptController.findById(PromptController.java:42)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at zw.co.cassavasmartech.ecocashchatbotcore.security.JWTFilter.doFilter(JWTFilter.java:33)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
.06:59:27.150 ERROR z.c.c.e.security.JwtTokenProvider - Invalid JWT token 
.06:59:27.153 INFO  z.c.c.e.security.AuthApi - Generate Token Request.... 
.06:59:27.368 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.07:02:23.035 ERROR z.c.c.e.security.JwtTokenProvider - Invalid JWT token 
.07:02:23.040 INFO  z.c.c.e.security.AuthApi - Generate Token Request.... 
.07:02:23.091 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.07:04:10.185 ERROR z.c.c.e.security.JwtTokenProvider - Invalid JWT token 
.07:04:10.185 INFO  z.c.c.e.security.AuthApi - Generate Token Request.... 
.07:04:10.238 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.09:31:26.798 WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2h16m59s848ms345µs200ns). 
.12:57:13.722 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default' 
.12:57:13.738 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated... 
.12:57:13.745 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed. 
.12:57:22.030 INFO  z.c.c.e.EcocashChatbotCoreApplication - Starting EcocashChatbotCoreApplication using Java 1.8.0_271 on LAPTOP-1JQH6S1S with PID 21308 (C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core\target\classes started by Kudzai Macheyo in C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core) 
.12:57:22.028 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final 
.12:57:22.032 INFO  z.c.c.e.EcocashChatbotCoreApplication - The following profiles are active: dev 
.12:57:22.903 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode! 
.12:57:22.905 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFERRED mode. 
.12:57:23.065 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 154 ms. Found 9 JPA repository interfaces. 
.12:57:23.410 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@1436a7ab' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.12:57:23.416 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.12:57:23.953 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http) 
.12:57:23.964 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"] 
.12:57:23.964 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat] 
.12:57:23.964 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.50] 
.12:57:24.065 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring embedded WebApplicationContext 
.12:57:24.071 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1980 ms 
.12:57:24.298 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default] 
.12:57:24.399 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final 
.12:57:24.787 INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final} 
.12:57:25.086 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting... 
.12:57:25.400 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed. 
.12:57:25.433 INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect 
.12:57:25.488 INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true 
.12:57:31.590 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform] 
.12:57:31.603 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default' 
.12:57:31.882 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning 
.12:57:32.917 INFO  o.s.s.l.DefaultSpringSecurityContextSource -  URL 'ldap://192.168.101.47:389', root DN is '' 
.12:57:36.423 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure Ant [pattern='/dialogflow/**'] with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7af0693b, org.springframework.security.web.context.SecurityContextPersistenceFilter@453439e, org.springframework.security.web.header.HeaderWriterFilter@a11efe6, org.springframework.security.web.authentication.logout.LogoutFilter@43dddfdd, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@289cf7db, zw.co.cassavasmartech.ecocashchatbotcore.security.CustomFilter@1791396b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@779ef5cb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@446981a4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@28d7bd6b, org.springframework.security.web.session.SessionManagementFilter@72c5064f, org.springframework.security.web.access.ExceptionTranslationFilter@6e5b3642, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2259d54f] 
.12:57:36.438 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@39fc17be, org.springframework.security.web.context.SecurityContextPersistenceFilter@7c50709a, org.springframework.security.web.header.HeaderWriterFilter@74ee97cb, org.springframework.security.web.authentication.logout.LogoutFilter@22d47f09, zw.co.cassavasmartech.ecocashchatbotcore.security.JWTFilter@106edde4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@af007d6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a20898c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4d9cf71d, org.springframework.security.web.session.SessionManagementFilter@268e30d4, org.springframework.security.web.access.ExceptionTranslationFilter@7d216ee8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@17d0d3d7] 
.12:57:37.366 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"] 
.12:57:37.405 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/ecocashbotcore' 
.12:57:37.407 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Triggering deferred initialization of Spring Data repositories… 
.12:57:39.050 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Spring Data repositories initialized! 
.12:57:39.068 INFO  z.c.c.e.EcocashChatbotCoreApplication - Started EcocashChatbotCoreApplication in 17.422 seconds (JVM running for 17.943) 
.13:16:07.805 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring DispatcherServlet 'dispatcherServlet' 
.13:16:07.806 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet' 
.13:16:07.811 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms 
.13:16:41.264 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.13:16:58.089 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.13:26:25.132 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.13:28:00.846 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.13:29:55.808 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.13:30:46.801 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default' 
.13:30:46.803 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated... 
.13:30:46.826 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed. 
.13:30:57.946 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final 
.13:30:57.964 INFO  z.c.c.e.EcocashChatbotCoreApplication - Starting EcocashChatbotCoreApplication using Java 1.8.0_271 on LAPTOP-1JQH6S1S with PID 19432 (C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core\target\classes started by Kudzai Macheyo in C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core) 
.13:30:57.967 INFO  z.c.c.e.EcocashChatbotCoreApplication - The following profiles are active: dev 
.13:30:59.974 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode! 
.13:30:59.980 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFERRED mode. 
.13:31:00.368 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 372 ms. Found 9 JPA repository interfaces. 
.13:31:01.280 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5b94ccbc' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.13:31:01.297 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.13:31:02.800 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http) 
.13:31:02.827 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"] 
.13:31:02.830 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat] 
.13:31:02.830 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.50] 
.13:31:03.123 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring embedded WebApplicationContext 
.13:31:03.123 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5050 ms 
.13:31:03.561 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default] 
.13:31:03.716 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final 
.13:31:04.121 INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final} 
.13:31:04.422 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting... 
.13:31:04.869 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed. 
.13:31:04.959 INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect 
.13:31:05.121 INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true 
.13:31:09.794 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform] 
.13:31:09.814 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default' 
.13:31:10.013 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning 
.13:31:10.309 INFO  o.s.s.l.DefaultSpringSecurityContextSource -  URL 'ldap://192.168.101.47:389', root DN is '' 
.13:31:12.784 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure Ant [pattern='/dialogflow/**'] with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2a2815cc, org.springframework.security.web.context.SecurityContextPersistenceFilter@c6a3f47, org.springframework.security.web.header.HeaderWriterFilter@60e5eed0, org.springframework.security.web.authentication.logout.LogoutFilter@75b3ef1a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@28100232, zw.co.cassavasmartech.ecocashchatbotcore.security.CustomFilter@18fa5af6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4840ec68, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@22c0344e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7fdabb3b, org.springframework.security.web.session.SessionManagementFilter@5693d1d2, org.springframework.security.web.access.ExceptionTranslationFilter@644f6e89, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7607340f] 
.13:31:12.788 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@24ee6faa, org.springframework.security.web.context.SecurityContextPersistenceFilter@39fc17be, org.springframework.security.web.header.HeaderWriterFilter@59d09ff3, org.springframework.security.web.authentication.logout.LogoutFilter@5db66c3, zw.co.cassavasmartech.ecocashchatbotcore.security.JWTFilter@6d4f266, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@106edde4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4d9cf71d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6b756a62, org.springframework.security.web.session.SessionManagementFilter@17d0d3d7, org.springframework.security.web.access.ExceptionTranslationFilter@76cbee13, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5c81ddab] 
.13:31:13.655 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"] 
.13:31:13.689 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/ecocashbotcore' 
.13:31:13.690 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Triggering deferred initialization of Spring Data repositories… 
.13:31:15.068 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Spring Data repositories initialized! 
.13:31:15.087 INFO  z.c.c.e.EcocashChatbotCoreApplication - Started EcocashChatbotCoreApplication in 18.061 seconds (JVM running for 19.532) 
.13:32:40.615 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring DispatcherServlet 'dispatcherServlet' 
.13:32:40.615 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet' 
.13:32:40.616 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms 
.13:32:40.804 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.13:32:41.325 INFO  z.c.c.e.d.DialogFlowServiceImpl - Processing dialogflow transaction request {
  "responseId": "1c6dee38-0a1d-4756-8b54-cbbc22d17235-dacfd3fa",
  "queryResult": {
    "queryText": "pin reset",
    "parameters": {},
    "allRequiredParamsPresent": true,
    "outputContexts": [
      {
        "name": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671/contexts/awaiting_pinreset_enrollment_confirmation",
        "lifespanCount": 1
      },
      {
        "name": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671/contexts/__system_counters__",
        "lifespanCount": 0,
        "parameters": {
          "no-input": 0.0,
          "no-match": 0.0
        }
      }
    ],
    "intent": {
      "name": "projects/the-attendant-hgawnh/agent/intents/cbd27331-6c49-4632-8f75-a3398cb8b7d2",
      "displayName": "usecase_pinreset"
    },
    "intentDetectionConfidence": 1.0,
    "languageCode": "en",
    "sentimentAnalysisResult": {
      "queryTextSentiment": {
        "score": -0.6,
        "magnitude": 0.6
      }
    }
  },
  "originalDetectIntentRequest": {
    "payload": {
      "SmsMessageSid": "SMd295395c90e028d6d73e5d74345bc923",
      "SmsStatus": "received",
      "SmsSid": "SMd295395c90e028d6d73e5d74345bc923",
      "NumSegments": "1",
      "From": "whatsapp:+263783324671",
      "To": "whatsapp:+14155238886",
      "MessageSid": "SMd295395c90e028d6d73e5d74345bc923",
      "WaId": "263783324671",
      "ProfileName": "justicemacheyo",
      "NumMedia": "0",
      "ApiVersion": "2010-04-01",
      "Body": "pin reset",
      "AccountSid": "ACfa0a8d3546de35dd06e07580f418191c"
    }
  },
  "session": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671"
}
 
.13:42:32.823 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default' 
.13:42:32.829 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated... 
.13:42:32.847 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed. 
.13:42:36.359 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final 
.13:42:36.365 INFO  z.c.c.e.EcocashChatbotCoreApplication - Starting EcocashChatbotCoreApplication using Java 1.8.0_271 on LAPTOP-1JQH6S1S with PID 25356 (C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core\target\classes started by Kudzai Macheyo in C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core) 
.13:42:36.365 INFO  z.c.c.e.EcocashChatbotCoreApplication - The following profiles are active: dev 
.13:42:38.181 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode! 
.13:42:38.187 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFERRED mode. 
.13:42:39.051 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 845 ms. Found 9 JPA repository interfaces. 
.13:42:40.026 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3e4e4c1' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.13:42:40.033 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.13:42:41.557 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http) 
.13:42:41.585 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"] 
.13:42:41.585 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat] 
.13:42:41.585 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.50] 
.13:42:41.892 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring embedded WebApplicationContext 
.13:42:41.892 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5473 ms 
.13:42:42.351 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default] 
.13:42:42.499 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final 
.13:42:42.868 INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final} 
.13:42:43.166 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting... 
.13:42:43.683 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed. 
.13:42:43.773 INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect 
.13:42:43.962 INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true 
.13:42:48.771 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform] 
.13:42:48.779 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default' 
.13:42:48.862 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning 
.13:42:48.997 INFO  o.s.s.l.DefaultSpringSecurityContextSource -  URL 'ldap://192.168.101.47:389', root DN is '' 
.13:42:50.133 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure Ant [pattern='/dialogflow/**'] with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@70376c6, org.springframework.security.web.context.SecurityContextPersistenceFilter@333cedbd, org.springframework.security.web.header.HeaderWriterFilter@34fe89a5, org.springframework.security.web.authentication.logout.LogoutFilter@188caeaf, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@363d3958, zw.co.cassavasmartech.ecocashchatbotcore.security.CustomFilter@2e89310c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4225b4e2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4563d421, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55c75b72, org.springframework.security.web.session.SessionManagementFilter@7f50b08a, org.springframework.security.web.access.ExceptionTranslationFilter@bb9bad9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@582ce329] 
.13:42:50.137 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@49825659, org.springframework.security.web.context.SecurityContextPersistenceFilter@676beb9f, org.springframework.security.web.header.HeaderWriterFilter@60eacbbf, org.springframework.security.web.authentication.logout.LogoutFilter@35cc5b75, zw.co.cassavasmartech.ecocashchatbotcore.security.JWTFilter@2ab0ca04, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3a892b9f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c88a842, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@53c68ea5, org.springframework.security.web.session.SessionManagementFilter@36e6e59f, org.springframework.security.web.access.ExceptionTranslationFilter@61a7930e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@d3e9629] 
.13:42:50.560 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"] 
.13:42:50.581 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/ecocashbotcore' 
.13:42:50.582 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Triggering deferred initialization of Spring Data repositories… 
.13:42:51.237 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Spring Data repositories initialized! 
.13:42:51.244 INFO  z.c.c.e.EcocashChatbotCoreApplication - Started EcocashChatbotCoreApplication in 15.364 seconds (JVM running for 16.039) 
.13:43:07.454 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring DispatcherServlet 'dispatcherServlet' 
.13:43:07.454 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet' 
.13:43:07.454 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms 
.13:43:07.639 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.13:43:07.969 INFO  z.c.c.e.d.DialogFlowServiceImpl - Processing dialogflow transaction request {
  "responseId": "14ce6148-d865-461c-ab2f-992f7420e1aa-dacfd3fa",
  "queryResult": {
    "queryText": "pin reset",
    "parameters": {},
    "allRequiredParamsPresent": true,
    "outputContexts": [
      {
        "name": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671/contexts/awaiting_pinreset_enrollment_confirmation",
        "lifespanCount": 1
      },
      {
        "name": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671/contexts/__system_counters__",
        "lifespanCount": 0,
        "parameters": {
          "no-input": 0.0,
          "no-match": 0.0
        }
      }
    ],
    "intent": {
      "name": "projects/the-attendant-hgawnh/agent/intents/cbd27331-6c49-4632-8f75-a3398cb8b7d2",
      "displayName": "usecase_pinreset"
    },
    "intentDetectionConfidence": 1.0,
    "languageCode": "en",
    "sentimentAnalysisResult": {
      "queryTextSentiment": {
        "score": -0.6,
        "magnitude": 0.6
      }
    }
  },
  "originalDetectIntentRequest": {
    "payload": {
      "ProfileName": "justicemacheyo",
      "To": "whatsapp:+14155238886",
      "AccountSid": "ACfa0a8d3546de35dd06e07580f418191c",
      "SmsSid": "SM903f9419a4b681c54cd7d168b0f9e5e8",
      "ApiVersion": "2010-04-01",
      "Body": "pin reset",
      "NumSegments": "1",
      "MessageSid": "SM903f9419a4b681c54cd7d168b0f9e5e8",
      "SmsMessageSid": "SM903f9419a4b681c54cd7d168b0f9e5e8",
      "From": "whatsapp:+263783324671",
      "NumMedia": "0",
      "SmsStatus": "received",
      "WaId": "263783324671"
    }
  },
  "session": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671"
}
 
.13:45:44.099 WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m19s404ms152µs700ns). 
.13:45:44.397 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default' 
.13:45:44.399 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated... 
.13:45:44.414 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed. 
.13:45:53.396 INFO  z.c.c.e.EcocashChatbotCoreApplication - Starting EcocashChatbotCoreApplication using Java 1.8.0_271 on LAPTOP-1JQH6S1S with PID 25096 (C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core\target\classes started by Kudzai Macheyo in C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core) 
.13:45:53.392 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final 
.13:45:53.397 INFO  z.c.c.e.EcocashChatbotCoreApplication - The following profiles are active: dev 
.13:45:54.307 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode! 
.13:45:54.310 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFERRED mode. 
.13:45:54.464 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 146 ms. Found 9 JPA repository interfaces. 
.13:45:55.359 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@59fbb34' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.13:45:55.390 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.13:45:56.259 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http) 
.13:45:56.267 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"] 
.13:45:56.268 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat] 
.13:45:56.268 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.50] 
.13:45:56.412 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring embedded WebApplicationContext 
.13:45:56.413 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2947 ms 
.13:45:57.357 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default] 
.13:45:57.440 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final 
.13:45:57.601 INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final} 
.13:45:57.723 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting... 
.13:45:57.912 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed. 
.13:45:57.943 INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect 
.13:45:58.004 INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true 
.13:46:02.437 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform] 
.13:46:02.455 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default' 
.13:46:02.718 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning 
.13:46:03.077 INFO  o.s.s.l.DefaultSpringSecurityContextSource -  URL 'ldap://192.168.101.47:389', root DN is '' 
.13:46:06.017 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure Ant [pattern='/dialogflow/**'] with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4efb7c99, org.springframework.security.web.context.SecurityContextPersistenceFilter@2ee91bdf, org.springframework.security.web.header.HeaderWriterFilter@76d1acf9, org.springframework.security.web.authentication.logout.LogoutFilter@419ac0f5, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@54b3407b, zw.co.cassavasmartech.ecocashchatbotcore.security.CustomFilter@5563a63f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5453b15d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@417f7d7f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@20a3118, org.springframework.security.web.session.SessionManagementFilter@4c2057c6, org.springframework.security.web.access.ExceptionTranslationFilter@6107b3cb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2140582] 
.13:46:06.025 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bd97254, org.springframework.security.web.context.SecurityContextPersistenceFilter@22ca5fe1, org.springframework.security.web.header.HeaderWriterFilter@3e1f6318, org.springframework.security.web.authentication.logout.LogoutFilter@12dab9a8, zw.co.cassavasmartech.ecocashchatbotcore.security.JWTFilter@388a6656, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@45cd5c56, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@8fe054, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32b19d03, org.springframework.security.web.session.SessionManagementFilter@23182d4d, org.springframework.security.web.access.ExceptionTranslationFilter@2298af09, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@46199519] 
.13:46:07.082 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"] 
.13:46:07.132 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/ecocashbotcore' 
.13:46:07.133 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Triggering deferred initialization of Spring Data repositories… 
.13:46:08.882 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Spring Data repositories initialized! 
.13:46:08.894 INFO  z.c.c.e.EcocashChatbotCoreApplication - Started EcocashChatbotCoreApplication in 15.986 seconds (JVM running for 16.607) 
.13:47:40.111 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring DispatcherServlet 'dispatcherServlet' 
.13:47:40.111 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet' 
.13:47:40.111 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms 
.13:47:40.283 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.13:47:40.613 INFO  z.c.c.e.d.DialogFlowServiceImpl - Processing dialogflow transaction request {
  "responseId": "6218238e-4f39-44d2-a503-cd04f2a7369c-dacfd3fa",
  "queryResult": {
    "queryText": "pin reset",
    "parameters": {},
    "allRequiredParamsPresent": true,
    "outputContexts": [
      {
        "name": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671/contexts/awaiting_pinreset_enrollment_confirmation",
        "lifespanCount": 1
      },
      {
        "name": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671/contexts/__system_counters__",
        "lifespanCount": 0,
        "parameters": {
          "no-input": 0.0,
          "no-match": 0.0
        }
      }
    ],
    "intent": {
      "name": "projects/the-attendant-hgawnh/agent/intents/cbd27331-6c49-4632-8f75-a3398cb8b7d2",
      "displayName": "usecase_pinreset"
    },
    "intentDetectionConfidence": 1.0,
    "languageCode": "en",
    "sentimentAnalysisResult": {
      "queryTextSentiment": {
        "score": -0.6,
        "magnitude": 0.6
      }
    }
  },
  "originalDetectIntentRequest": {
    "payload": {
      "AccountSid": "ACfa0a8d3546de35dd06e07580f418191c",
      "MessageSid": "SMebbf919844ba8181fccc5f3934e60d40",
      "NumSegments": "1",
      "Body": "pin reset",
      "ProfileName": "justicemacheyo",
      "WaId": "263783324671",
      "From": "whatsapp:+263783324671",
      "ApiVersion": "2010-04-01",
      "SmsStatus": "received",
      "NumMedia": "0",
      "To": "whatsapp:+14155238886",
      "SmsSid": "SMebbf919844ba8181fccc5f3934e60d40",
      "SmsMessageSid": "SMebbf919844ba8181fccc5f3934e60d40"
    }
  },
  "session": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671"
}
 
.13:48:19.110 WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=51s78ms104µs900ns). 
.13:48:19.389 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default' 
.13:48:19.391 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated... 
.13:48:19.402 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed. 
.13:48:28.332 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final 
.13:48:28.351 INFO  z.c.c.e.EcocashChatbotCoreApplication - Starting EcocashChatbotCoreApplication using Java 1.8.0_271 on LAPTOP-1JQH6S1S with PID 22872 (C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core\target\classes started by Kudzai Macheyo in C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core) 
.13:48:28.352 INFO  z.c.c.e.EcocashChatbotCoreApplication - The following profiles are active: dev 
.13:48:30.254 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode! 
.13:48:30.263 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFERRED mode. 
.13:48:30.701 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 421 ms. Found 9 JPA repository interfaces. 
.13:48:31.781 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@1e0a864d' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.13:48:31.802 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.13:48:33.315 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http) 
.13:48:33.347 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"] 
.13:48:33.353 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat] 
.13:48:33.353 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.50] 
.13:48:33.662 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring embedded WebApplicationContext 
.13:48:33.662 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5242 ms 
.13:48:34.133 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default] 
.13:48:34.294 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final 
.13:48:34.721 INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final} 
.13:48:35.052 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting... 
.13:48:35.537 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed. 
.13:48:35.633 INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect 
.13:48:35.812 INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true 
.13:48:40.642 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform] 
.13:48:40.663 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default' 
.13:48:40.898 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning 
.13:48:41.243 INFO  o.s.s.l.DefaultSpringSecurityContextSource -  URL 'ldap://192.168.101.47:389', root DN is '' 
.13:48:44.275 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure Ant [pattern='/dialogflow/**'] with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@296b758, org.springframework.security.web.context.SecurityContextPersistenceFilter@22bf4d9d, org.springframework.security.web.header.HeaderWriterFilter@1dc37d4f, org.springframework.security.web.authentication.logout.LogoutFilter@35b8b69f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4eb0ed44, zw.co.cassavasmartech.ecocashchatbotcore.security.CustomFilter@7f129873, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@9930ff6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3ea4dcc5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6ac0c3aa, org.springframework.security.web.session.SessionManagementFilter@3bde85b0, org.springframework.security.web.access.ExceptionTranslationFilter@2e903c69, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@43076326] 
.13:48:44.275 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@57cfd353, org.springframework.security.web.context.SecurityContextPersistenceFilter@5c3f9618, org.springframework.security.web.header.HeaderWriterFilter@372b2573, org.springframework.security.web.authentication.logout.LogoutFilter@49ed3b76, zw.co.cassavasmartech.ecocashchatbotcore.security.JWTFilter@4bd29a01, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@deb0c0e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6385b07d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5a4a8a33, org.springframework.security.web.session.SessionManagementFilter@66fd9613, org.springframework.security.web.access.ExceptionTranslationFilter@78652c15, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6b0f50d8] 
.13:48:45.357 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"] 
.13:48:45.398 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/ecocashbotcore' 
.13:48:45.406 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Triggering deferred initialization of Spring Data repositories… 
.13:48:47.157 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Spring Data repositories initialized! 
.13:48:47.176 INFO  z.c.c.e.EcocashChatbotCoreApplication - Started EcocashChatbotCoreApplication in 19.532 seconds (JVM running for 21.093) 
.13:49:12.496 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring DispatcherServlet 'dispatcherServlet' 
.13:49:12.496 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet' 
.13:49:12.497 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms 
.13:49:12.788 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.13:49:13.365 INFO  z.c.c.e.d.DialogFlowServiceImpl - Processing dialogflow transaction request {
  "responseId": "be1958a5-cbc1-404c-abb8-688cb20a0636-dacfd3fa",
  "queryResult": {
    "queryText": "pin rese",
    "parameters": {},
    "allRequiredParamsPresent": true,
    "outputContexts": [
      {
        "name": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671/contexts/awaiting_pinreset_enrollment_confirmation",
        "lifespanCount": 1
      },
      {
        "name": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671/contexts/__system_counters__",
        "lifespanCount": 0,
        "parameters": {
          "no-input": 0.0,
          "no-match": 0.0
        }
      }
    ],
    "intent": {
      "name": "projects/the-attendant-hgawnh/agent/intents/cbd27331-6c49-4632-8f75-a3398cb8b7d2",
      "displayName": "usecase_pinreset"
    },
    "intentDetectionConfidence": 0.5505748,
    "languageCode": "en",
    "sentimentAnalysisResult": {
      "queryTextSentiment": {
        "score": -0.3,
        "magnitude": 0.3
      }
    }
  },
  "originalDetectIntentRequest": {
    "payload": {
      "From": "whatsapp:+263783324671",
      "WaId": "263783324671",
      "AccountSid": "ACfa0a8d3546de35dd06e07580f418191c",
      "NumSegments": "1",
      "SmsMessageSid": "SMe4e6d1f00db7e1437dcfe777ca8a47ec",
      "MessageSid": "SMe4e6d1f00db7e1437dcfe777ca8a47ec",
      "SmsSid": "SMe4e6d1f00db7e1437dcfe777ca8a47ec",
      "ApiVersion": "2010-04-01",
      "Body": "pin rese",
      "SmsStatus": "received",
      "ProfileName": "justicemacheyo",
      "NumMedia": "0",
      "To": "whatsapp:+14155238886"
    }
  },
  "session": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671"
}
 
.13:49:23.225 INFO  z.c.c.e.m.i.h.PinresetUsecaseHandler - Processing dialogflow intent: usecase_pinreset 
.13:49:23.262 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/ecocashbotcore] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause 
java.lang.NullPointerException: null
	at zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.isNewCustomer(DialogFlowUtil.java:99)
	at zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.intent.handler.pinreset.PinResetIntentHandler.getWebhookResponse(PinresetUsecaseHandler.java:18)
	at zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowServiceImpl.processWebhookCall(DialogFlowServiceImpl.java:83)
	at zw.co.cassavasmartech.ecocashchatbotcore.controller.DialogFlowController.inbound(DialogFlowController.java:23)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at zw.co.cassavasmartech.ecocashchatbotcore.security.CustomFilter.doFilter(CustomFilter.java:15)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:178)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
.13:49:29.099 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default' 
.13:49:29.100 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated... 
.13:49:29.110 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed. 
.13:49:32.761 INFO  z.c.c.e.EcocashChatbotCoreApplication - Starting EcocashChatbotCoreApplication using Java 1.8.0_271 on LAPTOP-1JQH6S1S with PID 27276 (C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core\target\classes started by Kudzai Macheyo in C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core) 
.13:49:32.757 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final 
.13:49:32.762 INFO  z.c.c.e.EcocashChatbotCoreApplication - The following profiles are active: dev 
.13:49:33.699 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode! 
.13:49:33.701 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFERRED mode. 
.13:49:33.860 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 150 ms. Found 9 JPA repository interfaces. 
.13:49:34.265 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3b7b05a8' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.13:49:34.272 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.13:49:34.854 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http) 
.13:49:34.864 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"] 
.13:49:34.864 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat] 
.13:49:34.864 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.50] 
.13:49:34.972 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring embedded WebApplicationContext 
.13:49:34.972 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2153 ms 
.13:49:35.167 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default] 
.13:49:35.217 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final 
.13:49:35.327 INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final} 
.13:49:35.425 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting... 
.13:49:35.575 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed. 
.13:49:35.599 INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect 
.13:49:35.647 INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true 
.13:49:37.678 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform] 
.13:49:37.685 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default' 
.13:49:37.769 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning 
.13:49:37.903 INFO  o.s.s.l.DefaultSpringSecurityContextSource -  URL 'ldap://192.168.101.47:389', root DN is '' 
.13:49:39.066 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure Ant [pattern='/dialogflow/**'] with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d641499, org.springframework.security.web.context.SecurityContextPersistenceFilter@12811f95, org.springframework.security.web.header.HeaderWriterFilter@5b31a9e3, org.springframework.security.web.authentication.logout.LogoutFilter@5d9d8ecf, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5e663ab, zw.co.cassavasmartech.ecocashchatbotcore.security.CustomFilter@634d3439, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2d1f3639, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@69356aca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@44e0c3d, org.springframework.security.web.session.SessionManagementFilter@6ac83e67, org.springframework.security.web.access.ExceptionTranslationFilter@1a7437d8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@554e9509] 
.13:49:39.068 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d216ee8, org.springframework.security.web.context.SecurityContextPersistenceFilter@412440c1, org.springframework.security.web.header.HeaderWriterFilter@2184962c, org.springframework.security.web.authentication.logout.LogoutFilter@435a2c7d, zw.co.cassavasmartech.ecocashchatbotcore.security.JWTFilter@74ee97cb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@36c45149, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@33f4844b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@268e30d4, org.springframework.security.web.session.SessionManagementFilter@4d9bccfe, org.springframework.security.web.access.ExceptionTranslationFilter@67e21ea2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4b4228cf] 
.13:49:39.476 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"] 
.13:49:39.497 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/ecocashbotcore' 
.13:49:39.498 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Triggering deferred initialization of Spring Data repositories… 
.13:49:40.108 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Spring Data repositories initialized! 
.13:49:40.115 INFO  z.c.c.e.EcocashChatbotCoreApplication - Started EcocashChatbotCoreApplication in 7.835 seconds (JVM running for 8.544) 
.13:49:55.228 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring DispatcherServlet 'dispatcherServlet' 
.13:49:55.228 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet' 
.13:49:55.232 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms 
.13:49:55.470 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.13:49:56.077 INFO  z.c.c.e.d.DialogFlowServiceImpl - Processing dialogflow transaction request {
  "responseId": "7e54462e-b607-4a37-b311-c40d05bf356d-dacfd3fa",
  "queryResult": {
    "queryText": "pin reset",
    "parameters": {},
    "allRequiredParamsPresent": true,
    "outputContexts": [
      {
        "name": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671/contexts/awaiting_pinreset_enrollment_confirmation",
        "lifespanCount": 1
      },
      {
        "name": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671/contexts/__system_counters__",
        "lifespanCount": 0,
        "parameters": {
          "no-input": 0.0,
          "no-match": 0.0
        }
      }
    ],
    "intent": {
      "name": "projects/the-attendant-hgawnh/agent/intents/cbd27331-6c49-4632-8f75-a3398cb8b7d2",
      "displayName": "usecase_pinreset"
    },
    "intentDetectionConfidence": 1.0,
    "languageCode": "en",
    "sentimentAnalysisResult": {
      "queryTextSentiment": {
        "score": -0.6,
        "magnitude": 0.6
      }
    }
  },
  "originalDetectIntentRequest": {
    "payload": {
      "SmsMessageSid": "SM36baf904e2ea1f84ebe3884c22f64760",
      "NumSegments": "1",
      "WaId": "263783324671",
      "ApiVersion": "2010-04-01",
      "From": "whatsapp:+263783324671",
      "SmsSid": "SM36baf904e2ea1f84ebe3884c22f64760",
      "ProfileName": "justicemacheyo",
      "Body": "pin reset",
      "SmsStatus": "received",
      "NumMedia": "0",
      "AccountSid": "ACfa0a8d3546de35dd06e07580f418191c",
      "To": "whatsapp:+14155238886",
      "MessageSid": "SM36baf904e2ea1f84ebe3884c22f64760"
    }
  },
  "session": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671"
}
 
.13:49:56.100 INFO  z.c.c.e.m.i.h.PinresetUsecaseHandler - Processing dialogflow intent: usecase_pinreset 
.13:49:56.153 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/ecocashbotcore] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause 
java.lang.NullPointerException: null
	at zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.isNewCustomer(DialogFlowUtil.java:99)
	at zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.intent.handler.pinreset.PinResetIntentHandler.getWebhookResponse(PinresetUsecaseHandler.java:18)
	at zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowServiceImpl.processWebhookCall(DialogFlowServiceImpl.java:83)
	at zw.co.cassavasmartech.ecocashchatbotcore.controller.DialogFlowController.inbound(DialogFlowController.java:23)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at zw.co.cassavasmartech.ecocashchatbotcore.security.CustomFilter.doFilter(CustomFilter.java:15)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:178)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
.14:23:10.382 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default' 
.14:23:10.385 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated... 
.14:23:10.391 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed. 
.14:23:19.727 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final 
.14:23:19.738 INFO  z.c.c.e.EcocashChatbotCoreApplication - Starting EcocashChatbotCoreApplication using Java 1.8.0_271 on LAPTOP-1JQH6S1S with PID 27116 (C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core\target\classes started by Kudzai Macheyo in C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core) 
.14:23:19.738 INFO  z.c.c.e.EcocashChatbotCoreApplication - The following profiles are active: dev 
.14:23:21.881 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode! 
.14:23:21.886 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFERRED mode. 
.14:23:22.334 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 427 ms. Found 9 JPA repository interfaces. 
.14:23:23.278 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@336365bc' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.14:23:23.294 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.14:23:24.732 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http) 
.14:23:24.763 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"] 
.14:23:24.764 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat] 
.14:23:24.765 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.50] 
.14:23:25.067 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring embedded WebApplicationContext 
.14:23:25.067 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5230 ms 
.14:23:25.558 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default] 
.14:23:25.726 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final 
.14:23:26.139 INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final} 
.14:23:26.481 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting... 
.14:23:26.748 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed. 
.14:23:26.780 INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect 
.14:23:26.862 INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true 
.14:23:31.520 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform] 
.14:23:31.535 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default' 
.14:23:31.738 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning 
.14:23:32.009 INFO  o.s.s.l.DefaultSpringSecurityContextSource -  URL 'ldap://192.168.101.47:389', root DN is '' 
.14:23:32.717 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.repository.CustomerRepository zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.customerRepository 
.14:23:32.717 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.repository.TicketRepository zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.ticketRepository 
.14:23:32.717 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.selfServiceCore.SelfServiceCoreProcessor zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.selfServiceCoreProcessor 
.14:23:33.916 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure Ant [pattern='/dialogflow/**'] with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@39fc17be, org.springframework.security.web.context.SecurityContextPersistenceFilter@7a13ad55, org.springframework.security.web.header.HeaderWriterFilter@15a0f9, org.springframework.security.web.authentication.logout.LogoutFilter@4c12f54a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2de07c57, zw.co.cassavasmartech.ecocashchatbotcore.security.CustomFilter@106edde4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@20a116a0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7d2baa56, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4d9cf71d, org.springframework.security.web.session.SessionManagementFilter@745c8a04, org.springframework.security.web.access.ExceptionTranslationFilter@571c7572, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5dff108c] 
.14:23:33.920 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@63896cf7, org.springframework.security.web.context.SecurityContextPersistenceFilter@5eae392d, org.springframework.security.web.header.HeaderWriterFilter@56b48163, org.springframework.security.web.authentication.logout.LogoutFilter@29bf90fc, zw.co.cassavasmartech.ecocashchatbotcore.security.JWTFilter@3f838072, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4cd1716d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e1c5e0d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@46c9ee28, org.springframework.security.web.session.SessionManagementFilter@eb6ccbc, org.springframework.security.web.access.ExceptionTranslationFilter@55d8f6bb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@fdf029a] 
.14:23:34.761 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"] 
.14:23:34.806 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/ecocashbotcore' 
.14:23:34.808 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Triggering deferred initialization of Spring Data repositories… 
.14:23:35.884 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Spring Data repositories initialized! 
.14:23:35.904 INFO  z.c.c.e.EcocashChatbotCoreApplication - Started EcocashChatbotCoreApplication in 16.823 seconds (JVM running for 17.996) 
.14:24:49.726 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring DispatcherServlet 'dispatcherServlet' 
.14:24:49.726 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet' 
.14:24:49.726 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms 
.14:25:30.074 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default' 
.14:25:30.076 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated... 
.14:25:30.088 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed. 
.14:25:33.461 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final 
.14:25:33.474 INFO  z.c.c.e.EcocashChatbotCoreApplication - Starting EcocashChatbotCoreApplication using Java 1.8.0_271 on LAPTOP-1JQH6S1S with PID 23956 (C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core\target\classes started by Kudzai Macheyo in C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core) 
.14:25:33.475 INFO  z.c.c.e.EcocashChatbotCoreApplication - The following profiles are active: dev 
.14:25:36.308 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode! 
.14:25:36.311 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFERRED mode. 
.14:25:36.466 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 147 ms. Found 9 JPA repository interfaces. 
.14:25:37.699 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@1436a7ab' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.14:25:37.707 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.14:25:38.238 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http) 
.14:25:38.248 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"] 
.14:25:38.248 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat] 
.14:25:38.248 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.50] 
.14:25:38.348 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring embedded WebApplicationContext 
.14:25:38.348 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4758 ms 
.14:25:38.518 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default] 
.14:25:38.707 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final 
.14:25:39.559 INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final} 
.14:25:39.675 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting... 
.14:25:39.869 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed. 
.14:25:39.939 INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect 
.14:25:40.099 INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true 
.14:25:44.889 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform] 
.14:25:44.909 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default' 
.14:25:45.119 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning 
.14:25:45.437 INFO  o.s.s.l.DefaultSpringSecurityContextSource -  URL 'ldap://192.168.101.47:389', root DN is '' 
.14:25:46.133 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.repository.CustomerRepository zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.customerRepository 
.14:25:46.133 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.repository.TicketRepository zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.ticketRepository 
.14:25:46.133 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.selfServiceCore.SelfServiceCoreProcessor zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.selfServiceCoreProcessor 
.14:25:48.102 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure Ant [pattern='/dialogflow/**'] with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5dff108c, org.springframework.security.web.context.SecurityContextPersistenceFilter@411ae0d7, org.springframework.security.web.header.HeaderWriterFilter@43cc7951, org.springframework.security.web.authentication.logout.LogoutFilter@23b087c3, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@268e30d4, zw.co.cassavasmartech.ecocashchatbotcore.security.CustomFilter@22d47f09, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7e84a52b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@15a0f9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@28100232, org.springframework.security.web.session.SessionManagementFilter@77ad2767, org.springframework.security.web.access.ExceptionTranslationFilter@779ef5cb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7c523bdd] 
.14:25:48.112 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6f7a65e, org.springframework.security.web.context.SecurityContextPersistenceFilter@51efdb72, org.springframework.security.web.header.HeaderWriterFilter@7164e28a, org.springframework.security.web.authentication.logout.LogoutFilter@59d09ff3, zw.co.cassavasmartech.ecocashchatbotcore.security.JWTFilter@29bf90fc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7bc6b117, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2de07c57, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e22d6bf, org.springframework.security.web.session.SessionManagementFilter@1b881f1f, org.springframework.security.web.access.ExceptionTranslationFilter@7fdabb3b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3e1c5e0d] 
.14:25:49.066 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"] 
.14:25:49.107 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/ecocashbotcore' 
.14:25:49.108 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Triggering deferred initialization of Spring Data repositories… 
.14:25:50.640 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Spring Data repositories initialized! 
.14:25:50.659 INFO  z.c.c.e.EcocashChatbotCoreApplication - Started EcocashChatbotCoreApplication in 17.715 seconds (JVM running for 18.867) 
.14:27:20.047 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring DispatcherServlet 'dispatcherServlet' 
.14:27:20.047 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet' 
.14:27:20.048 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms 
.14:27:56.111 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default' 
.14:27:56.113 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated... 
.14:27:56.126 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed. 
.14:28:04.868 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final 
.14:28:04.879 INFO  z.c.c.e.EcocashChatbotCoreApplication - Starting EcocashChatbotCoreApplication using Java 1.8.0_271 on LAPTOP-1JQH6S1S with PID 12692 (C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core\target\classes started by Kudzai Macheyo in C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core) 
.14:28:04.879 INFO  z.c.c.e.EcocashChatbotCoreApplication - The following profiles are active: dev 
.14:28:07.135 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode! 
.14:28:07.143 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFERRED mode. 
.14:28:07.600 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 434 ms. Found 9 JPA repository interfaces. 
.14:28:08.705 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@53a7a60c' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.14:28:08.729 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.14:28:10.182 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http) 
.14:28:10.213 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"] 
.14:28:10.213 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat] 
.14:28:10.213 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.50] 
.14:28:10.522 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring embedded WebApplicationContext 
.14:28:10.523 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5494 ms 
.14:28:11.013 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default] 
.14:28:11.170 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final 
.14:28:11.576 INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final} 
.14:28:11.909 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting... 
.14:28:12.366 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed. 
.14:28:12.464 INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect 
.14:28:12.635 INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true 
.14:28:17.839 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform] 
.14:28:17.852 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default' 
.14:28:18.095 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning 
.14:28:18.465 INFO  o.s.s.l.DefaultSpringSecurityContextSource -  URL 'ldap://192.168.101.47:389', root DN is '' 
.14:28:19.359 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.repository.CustomerRepository zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.customerRepository 
.14:28:19.359 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.repository.TicketRepository zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.ticketRepository 
.14:28:19.359 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.selfServiceCore.SelfServiceCoreProcessor zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.selfServiceCoreProcessor 
.14:28:21.624 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure Ant [pattern='/dialogflow/**'] with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6f54d397, org.springframework.security.web.context.SecurityContextPersistenceFilter@6230a15a, org.springframework.security.web.header.HeaderWriterFilter@deb0c0e, org.springframework.security.web.authentication.logout.LogoutFilter@37b04a2a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@42130a5c, zw.co.cassavasmartech.ecocashchatbotcore.security.CustomFilter@1368e451, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1bff4cb9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4bd29a01, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6ce365b7, org.springframework.security.web.session.SessionManagementFilter@10bf2185, org.springframework.security.web.access.ExceptionTranslationFilter@66fd9613, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@245a90b1] 
.14:28:21.631 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@fc9313d, org.springframework.security.web.context.SecurityContextPersistenceFilter@7aead157, org.springframework.security.web.header.HeaderWriterFilter@33ea437a, org.springframework.security.web.authentication.logout.LogoutFilter@72e5f018, zw.co.cassavasmartech.ecocashchatbotcore.security.JWTFilter@7f0b32c0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52aa84ef, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@333afc53, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c152246, org.springframework.security.web.session.SessionManagementFilter@360b6ea1, org.springframework.security.web.access.ExceptionTranslationFilter@78ba0a57, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@425a3af5] 
.14:28:22.701 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"] 
.14:28:22.741 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/ecocashbotcore' 
.14:28:22.742 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Triggering deferred initialization of Spring Data repositories… 
.14:28:24.529 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Spring Data repositories initialized! 
.14:28:24.547 INFO  z.c.c.e.EcocashChatbotCoreApplication - Started EcocashChatbotCoreApplication in 20.767 seconds (JVM running for 22.472) 
.14:29:10.218 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring DispatcherServlet 'dispatcherServlet' 
.14:29:10.218 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet' 
.14:29:10.219 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms 
.14:29:13.438 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.14:29:14.051 INFO  z.c.c.e.d.DialogFlowServiceImpl - Processing dialogflow transaction request {
  "responseId": "a1f83bb9-c551-48ce-9db8-29ad633ab8c0-dacfd3fa",
  "queryResult": {
    "queryText": "pin reset",
    "parameters": {},
    "allRequiredParamsPresent": true,
    "outputContexts": [
      {
        "name": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671/contexts/awaiting_pinreset_enrollment_confirmation",
        "lifespanCount": 1
      },
      {
        "name": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671/contexts/__system_counters__",
        "lifespanCount": 0,
        "parameters": {
          "no-input": 0.0,
          "no-match": 0.0
        }
      }
    ],
    "intent": {
      "name": "projects/the-attendant-hgawnh/agent/intents/cbd27331-6c49-4632-8f75-a3398cb8b7d2",
      "displayName": "usecase_pinreset"
    },
    "intentDetectionConfidence": 1.0,
    "languageCode": "en",
    "sentimentAnalysisResult": {
      "queryTextSentiment": {
        "score": -0.6,
        "magnitude": 0.6
      }
    }
  },
  "originalDetectIntentRequest": {
    "payload": {
      "AccountSid": "ACfa0a8d3546de35dd06e07580f418191c",
      "MessageSid": "SM29e30edf9db75ec15979b4da3fc3ee43",
      "ApiVersion": "2010-04-01",
      "SmsStatus": "received",
      "To": "whatsapp:+14155238886",
      "From": "whatsapp:+263783324671",
      "ProfileName": "justicemacheyo",
      "Body": "pin reset",
      "NumSegments": "1",
      "SmsMessageSid": "SM29e30edf9db75ec15979b4da3fc3ee43",
      "WaId": "263783324671",
      "SmsSid": "SM29e30edf9db75ec15979b4da3fc3ee43",
      "NumMedia": "0"
    }
  },
  "session": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671"
}
 
.14:29:19.576 INFO  z.c.c.e.m.i.h.PinresetUsecaseHandler - Processing dialogflow intent: usecase_pinreset 
.14:29:19.836 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default' 
.14:29:19.840 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated... 
.14:29:19.849 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed. 
.14:29:23.355 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final 
.14:29:23.410 INFO  z.c.c.e.EcocashChatbotCoreApplication - Starting EcocashChatbotCoreApplication using Java 1.8.0_271 on LAPTOP-1JQH6S1S with PID 7808 (C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core\target\classes started by Kudzai Macheyo in C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core) 
.14:29:23.411 INFO  z.c.c.e.EcocashChatbotCoreApplication - The following profiles are active: dev 
.14:29:26.402 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode! 
.14:29:26.415 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFERRED mode. 
.14:29:27.433 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 976 ms. Found 9 JPA repository interfaces. 
.14:29:29.497 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6e91893' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.14:29:29.520 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.14:29:31.400 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http) 
.14:29:31.417 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"] 
.14:29:31.418 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat] 
.14:29:31.418 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.50] 
.14:29:31.726 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring embedded WebApplicationContext 
.14:29:31.727 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 8233 ms 
.14:29:32.207 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default] 
.14:29:32.357 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final 
.14:29:32.670 INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final} 
.14:29:32.967 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting... 
.14:29:33.345 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed. 
.14:29:33.408 INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect 
.14:29:33.553 INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true 
.14:29:37.196 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform] 
.14:29:37.206 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default' 
.14:29:37.384 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning 
.14:29:37.725 INFO  o.s.s.l.DefaultSpringSecurityContextSource -  URL 'ldap://192.168.101.47:389', root DN is '' 
.14:29:38.531 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.repository.CustomerRepository zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.customerRepository 
.14:29:38.531 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.repository.TicketRepository zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.ticketRepository 
.14:29:38.531 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.selfServiceCore.SelfServiceCoreProcessor zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.selfServiceCoreProcessor 
.14:29:40.189 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure Ant [pattern='/dialogflow/**'] with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1791396b, org.springframework.security.web.context.SecurityContextPersistenceFilter@2d33795c, org.springframework.security.web.header.HeaderWriterFilter@2123a61c, org.springframework.security.web.authentication.logout.LogoutFilter@22c0344e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7c523bdd, zw.co.cassavasmartech.ecocashchatbotcore.security.CustomFilter@28d7bd6b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5d9d8ecf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@644f6e89, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7607340f, org.springframework.security.web.session.SessionManagementFilter@4a0c04ab, org.springframework.security.web.access.ExceptionTranslationFilter@7b6b466a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1b82f62a] 
.14:29:40.194 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@106edde4, org.springframework.security.web.context.SecurityContextPersistenceFilter@af007d6, org.springframework.security.web.header.HeaderWriterFilter@268e30d4, org.springframework.security.web.authentication.logout.LogoutFilter@28100232, zw.co.cassavasmartech.ecocashchatbotcore.security.JWTFilter@4d9cf71d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@a20898c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5dff108c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5c43cb12, org.springframework.security.web.session.SessionManagementFilter@7c50709a, org.springframework.security.web.access.ExceptionTranslationFilter@74ee97cb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@39fc17be] 
.14:29:41.221 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"] 
.14:29:41.255 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/ecocashbotcore' 
.14:29:41.256 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Triggering deferred initialization of Spring Data repositories… 
.14:29:42.971 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Spring Data repositories initialized! 
.14:29:42.993 INFO  z.c.c.e.EcocashChatbotCoreApplication - Started EcocashChatbotCoreApplication in 20.927 seconds (JVM running for 22.089) 
.14:30:16.785 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring DispatcherServlet 'dispatcherServlet' 
.14:30:16.785 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet' 
.14:30:16.785 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms 
.14:30:16.923 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.14:30:17.162 INFO  z.c.c.e.d.DialogFlowServiceImpl - Processing dialogflow transaction request {
  "responseId": "03308888-4488-4ed8-8218-28b4aca91554-dacfd3fa",
  "queryResult": {
    "queryText": "pin reset",
    "parameters": {},
    "allRequiredParamsPresent": true,
    "outputContexts": [
      {
        "name": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671/contexts/awaiting_pinreset_enrollment_confirmation",
        "lifespanCount": 1
      },
      {
        "name": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671/contexts/__system_counters__",
        "lifespanCount": 0,
        "parameters": {
          "no-input": 0.0,
          "no-match": 0.0
        }
      }
    ],
    "intent": {
      "name": "projects/the-attendant-hgawnh/agent/intents/cbd27331-6c49-4632-8f75-a3398cb8b7d2",
      "displayName": "usecase_pinreset"
    },
    "intentDetectionConfidence": 1.0,
    "languageCode": "en",
    "sentimentAnalysisResult": {
      "queryTextSentiment": {
        "score": -0.6,
        "magnitude": 0.6
      }
    }
  },
  "originalDetectIntentRequest": {
    "payload": {
      "SmsSid": "SM4f6d04c4596d961015d2d3a34afd10dd",
      "From": "whatsapp:+263783324671",
      "SmsStatus": "received",
      "SmsMessageSid": "SM4f6d04c4596d961015d2d3a34afd10dd",
      "To": "whatsapp:+14155238886",
      "AccountSid": "ACfa0a8d3546de35dd06e07580f418191c",
      "ProfileName": "justicemacheyo",
      "WaId": "263783324671",
      "NumMedia": "0",
      "NumSegments": "1",
      "Body": "pin reset",
      "ApiVersion": "2010-04-01",
      "MessageSid": "SM4f6d04c4596d961015d2d3a34afd10dd"
    }
  },
  "session": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671"
}
 
.14:30:17.177 INFO  z.c.c.e.m.i.h.PinresetUsecaseHandler - Processing dialogflow intent: usecase_pinreset 
.14:30:17.259 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/ecocashbotcore] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause 
java.lang.NullPointerException: null
	at zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.isNewCustomer(DialogFlowUtil.java:114)
	at zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.intent.handler.pinreset.PinResetIntentHandler.getWebhookResponse(PinresetUsecaseHandler.java:18)
	at zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowServiceImpl.processWebhookCall(DialogFlowServiceImpl.java:83)
	at zw.co.cassavasmartech.ecocashchatbotcore.controller.DialogFlowController.inbound(DialogFlowController.java:23)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at zw.co.cassavasmartech.ecocashchatbotcore.security.CustomFilter.doFilter(CustomFilter.java:15)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:178)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
.14:31:54.063 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default' 
.14:31:54.064 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated... 
.14:31:54.074 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed. 
.14:32:03.696 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final 
.14:32:03.710 INFO  z.c.c.e.EcocashChatbotCoreApplication - Starting EcocashChatbotCoreApplication using Java 1.8.0_271 on LAPTOP-1JQH6S1S with PID 14128 (C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core\target\classes started by Kudzai Macheyo in C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core) 
.14:32:03.711 INFO  z.c.c.e.EcocashChatbotCoreApplication - The following profiles are active: dev 
.14:32:05.709 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode! 
.14:32:05.711 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFERRED mode. 
.14:32:06.110 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 386 ms. Found 9 JPA repository interfaces. 
.14:32:07.033 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3d36dff4' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.14:32:07.048 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.14:32:08.566 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http) 
.14:32:08.598 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"] 
.14:32:08.599 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat] 
.14:32:08.600 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.50] 
.14:32:08.910 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring embedded WebApplicationContext 
.14:32:08.910 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5088 ms 
.14:32:09.378 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default] 
.14:32:09.500 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final 
.14:32:09.877 INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final} 
.14:32:10.193 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting... 
.14:32:10.601 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed. 
.14:32:10.691 INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect 
.14:32:10.857 INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true 
.14:32:15.411 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform] 
.14:32:15.426 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default' 
.14:32:15.618 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning 
.14:32:15.910 INFO  o.s.s.l.DefaultSpringSecurityContextSource -  URL 'ldap://192.168.101.47:389', root DN is '' 
.14:32:16.673 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.repository.CustomerRepository zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.customerRepo 
.14:32:16.674 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.repository.TicketRepository zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.ticketRepository 
.14:32:16.674 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.selfServiceCore.SelfServiceCoreProcessor zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.selfServiceCoreProcessor 
.14:32:18.639 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure Ant [pattern='/dialogflow/**'] with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@22d47f09, org.springframework.security.web.context.SecurityContextPersistenceFilter@608c2042, org.springframework.security.web.header.HeaderWriterFilter@c14bbab, org.springframework.security.web.authentication.logout.LogoutFilter@237c8718, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7c50709a, zw.co.cassavasmartech.ecocashchatbotcore.security.CustomFilter@28100232, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@40199d5e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4840ec68, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@26728255, org.springframework.security.web.session.SessionManagementFilter@e460ca1, org.springframework.security.web.access.ExceptionTranslationFilter@675bf541, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3741071d] 
.14:32:18.645 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@29bf90fc, org.springframework.security.web.context.SecurityContextPersistenceFilter@7bc6b117, org.springframework.security.web.header.HeaderWriterFilter@1b881f1f, org.springframework.security.web.authentication.logout.LogoutFilter@17d0d3d7, zw.co.cassavasmartech.ecocashchatbotcore.security.JWTFilter@6e22d6bf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2de07c57, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@76cbee13, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32121140, org.springframework.security.web.session.SessionManagementFilter@51efdb72, org.springframework.security.web.access.ExceptionTranslationFilter@7164e28a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6f7a65e] 
.14:32:19.566 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"] 
.14:32:19.612 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/ecocashbotcore' 
.14:32:19.614 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Triggering deferred initialization of Spring Data repositories… 
.14:32:21.168 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Spring Data repositories initialized! 
.14:32:21.190 INFO  z.c.c.e.EcocashChatbotCoreApplication - Started EcocashChatbotCoreApplication in 18.427 seconds (JVM running for 19.932) 
.14:32:49.907 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring DispatcherServlet 'dispatcherServlet' 
.14:32:49.907 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet' 
.14:32:49.908 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms 
.14:32:50.152 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.14:32:50.758 INFO  z.c.c.e.d.DialogFlowServiceImpl - Processing dialogflow transaction request {
  "responseId": "558d0bfc-7446-4dda-9379-82fef2d93a2e-dacfd3fa",
  "queryResult": {
    "queryText": "pin reset",
    "parameters": {},
    "allRequiredParamsPresent": true,
    "outputContexts": [
      {
        "name": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671/contexts/awaiting_pinreset_enrollment_confirmation",
        "lifespanCount": 1
      },
      {
        "name": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671/contexts/__system_counters__",
        "lifespanCount": 0,
        "parameters": {
          "no-input": 0.0,
          "no-match": 0.0
        }
      }
    ],
    "intent": {
      "name": "projects/the-attendant-hgawnh/agent/intents/cbd27331-6c49-4632-8f75-a3398cb8b7d2",
      "displayName": "usecase_pinreset"
    },
    "intentDetectionConfidence": 1.0,
    "languageCode": "en",
    "sentimentAnalysisResult": {
      "queryTextSentiment": {
        "score": -0.6,
        "magnitude": 0.6
      }
    }
  },
  "originalDetectIntentRequest": {
    "payload": {
      "From": "whatsapp:+263783324671",
      "ProfileName": "justicemacheyo",
      "NumSegments": "1",
      "WaId": "263783324671",
      "Body": "pin reset",
      "NumMedia": "0",
      "AccountSid": "ACfa0a8d3546de35dd06e07580f418191c",
      "SmsMessageSid": "SMe6f5f2c957bd3ab67298180767b0196e",
      "SmsStatus": "received",
      "ApiVersion": "2010-04-01",
      "To": "whatsapp:+14155238886",
      "MessageSid": "SMe6f5f2c957bd3ab67298180767b0196e",
      "SmsSid": "SMe6f5f2c957bd3ab67298180767b0196e"
    }
  },
  "session": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671"
}
 
.14:32:50.784 INFO  z.c.c.e.m.i.h.PinresetUsecaseHandler - Processing dialogflow intent: usecase_pinreset 
.14:32:50.957 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/ecocashbotcore] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause 
java.lang.NullPointerException: null
	at zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.isNewCustomer(DialogFlowUtil.java:116)
	at zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.intent.handler.pinreset.PinResetIntentHandler.getWebhookResponse(PinresetUsecaseHandler.java:18)
	at zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowServiceImpl.processWebhookCall(DialogFlowServiceImpl.java:83)
	at zw.co.cassavasmartech.ecocashchatbotcore.controller.DialogFlowController.inbound(DialogFlowController.java:23)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at zw.co.cassavasmartech.ecocashchatbotcore.security.CustomFilter.doFilter(CustomFilter.java:15)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:178)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
.14:34:22.291 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default' 
.14:34:22.293 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated... 
.14:34:22.306 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed. 
.14:34:29.888 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final 
.14:34:29.906 INFO  z.c.c.e.EcocashChatbotCoreApplication - Starting EcocashChatbotCoreApplication using Java 1.8.0_271 on LAPTOP-1JQH6S1S with PID 20620 (C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core\target\classes started by Kudzai Macheyo in C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core) 
.14:34:29.907 INFO  z.c.c.e.EcocashChatbotCoreApplication - The following profiles are active: dev 
.14:34:32.390 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode! 
.14:34:32.392 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFERRED mode. 
.14:34:32.787 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 384 ms. Found 9 JPA repository interfaces. 
.14:34:33.790 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4567e53d' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.14:34:33.807 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.14:34:35.167 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http) 
.14:34:35.191 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"] 
.14:34:35.191 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat] 
.14:34:35.191 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.50] 
.14:34:35.461 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring embedded WebApplicationContext 
.14:34:35.461 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5448 ms 
.14:34:35.927 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default] 
.14:34:36.072 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final 
.14:34:36.412 INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final} 
.14:34:36.712 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting... 
.14:34:37.078 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed. 
.14:34:37.148 INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect 
.14:34:37.255 INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true 
.14:34:41.879 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform] 
.14:34:41.903 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default' 
.14:34:42.114 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning 
.14:34:42.420 INFO  o.s.s.l.DefaultSpringSecurityContextSource -  URL 'ldap://192.168.101.47:389', root DN is '' 
.14:34:43.184 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.repository.CustomerRepository zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.customerRepo 
.14:34:43.184 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.repository.TicketRepository zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.ticketRepository 
.14:34:43.184 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.selfServiceCore.SelfServiceCoreProcessor zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.selfServiceCoreProcessor 
.14:34:45.320 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure Ant [pattern='/dialogflow/**'] with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7af0693b, org.springframework.security.web.context.SecurityContextPersistenceFilter@2e5c7cd5, org.springframework.security.web.header.HeaderWriterFilter@a11efe6, org.springframework.security.web.authentication.logout.LogoutFilter@5693d1d2, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@289cf7db, zw.co.cassavasmartech.ecocashchatbotcore.security.CustomFilter@1791396b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b74bb75, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a0c04ab, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@28d7bd6b, org.springframework.security.web.session.SessionManagementFilter@6686507b, org.springframework.security.web.access.ExceptionTranslationFilter@6e5b3642, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2259d54f] 
.14:34:45.329 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@39fc17be, org.springframework.security.web.context.SecurityContextPersistenceFilter@7c50709a, org.springframework.security.web.header.HeaderWriterFilter@74ee97cb, org.springframework.security.web.authentication.logout.LogoutFilter@22d47f09, zw.co.cassavasmartech.ecocashchatbotcore.security.JWTFilter@106edde4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@af007d6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a20898c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4d9cf71d, org.springframework.security.web.session.SessionManagementFilter@268e30d4, org.springframework.security.web.access.ExceptionTranslationFilter@7d216ee8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@17d0d3d7] 
.14:34:46.346 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"] 
.14:34:46.390 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/ecocashbotcore' 
.14:34:46.393 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Triggering deferred initialization of Spring Data repositories… 
.14:34:48.444 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Spring Data repositories initialized! 
.14:34:48.452 INFO  z.c.c.e.EcocashChatbotCoreApplication - Started EcocashChatbotCoreApplication in 19.555 seconds (JVM running for 20.709) 
.14:35:17.027 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring DispatcherServlet 'dispatcherServlet' 
.14:35:17.027 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet' 
.14:35:17.030 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms 
.14:35:17.454 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.14:35:18.024 INFO  z.c.c.e.d.DialogFlowServiceImpl - Processing dialogflow transaction request {
  "responseId": "1f3ebdbf-3277-4b0d-b228-c32e927a81b6-dacfd3fa",
  "queryResult": {
    "queryText": "pin reset",
    "parameters": {},
    "allRequiredParamsPresent": true,
    "outputContexts": [
      {
        "name": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671/contexts/awaiting_pinreset_enrollment_confirmation",
        "lifespanCount": 1
      },
      {
        "name": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671/contexts/__system_counters__",
        "lifespanCount": 0,
        "parameters": {
          "no-input": 0.0,
          "no-match": 0.0
        }
      }
    ],
    "intent": {
      "name": "projects/the-attendant-hgawnh/agent/intents/cbd27331-6c49-4632-8f75-a3398cb8b7d2",
      "displayName": "usecase_pinreset"
    },
    "intentDetectionConfidence": 1.0,
    "languageCode": "en",
    "sentimentAnalysisResult": {
      "queryTextSentiment": {
        "score": -0.6,
        "magnitude": 0.6
      }
    }
  },
  "originalDetectIntentRequest": {
    "payload": {
      "Body": "pin reset",
      "SmsSid": "SMf424a7b4197f198238f4feea138868ef",
      "SmsStatus": "received",
      "MessageSid": "SMf424a7b4197f198238f4feea138868ef",
      "AccountSid": "ACfa0a8d3546de35dd06e07580f418191c",
      "NumSegments": "1",
      "ProfileName": "justicemacheyo",
      "From": "whatsapp:+263783324671",
      "To": "whatsapp:+14155238886",
      "WaId": "263783324671",
      "ApiVersion": "2010-04-01",
      "NumMedia": "0",
      "SmsMessageSid": "SMf424a7b4197f198238f4feea138868ef"
    }
  },
  "session": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671"
}
 
.14:35:18.050 INFO  z.c.c.e.m.i.h.PinresetUsecaseHandler - Processing dialogflow intent: usecase_pinreset 
.14:35:18.239 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/ecocashbotcore] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause 
java.lang.NullPointerException: null
	at zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.intent.handler.pinreset.PinResetIntentHandler.getWebhookResponse(PinresetUsecaseHandler.java:20)
	at zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowServiceImpl.processWebhookCall(DialogFlowServiceImpl.java:83)
	at zw.co.cassavasmartech.ecocashchatbotcore.controller.DialogFlowController.inbound(DialogFlowController.java:23)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at zw.co.cassavasmartech.ecocashchatbotcore.security.CustomFilter.doFilter(CustomFilter.java:15)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:178)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
.14:39:31.738 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default' 
.14:39:31.741 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated... 
.14:39:31.756 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed. 
.14:39:38.469 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final 
.14:39:38.480 INFO  z.c.c.e.EcocashChatbotCoreApplication - Starting EcocashChatbotCoreApplication using Java 1.8.0_271 on LAPTOP-1JQH6S1S with PID 27328 (C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core\target\classes started by Kudzai Macheyo in C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core) 
.14:39:38.481 INFO  z.c.c.e.EcocashChatbotCoreApplication - The following profiles are active: dev 
.14:39:41.260 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode! 
.14:39:41.262 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFERRED mode. 
.14:39:41.611 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 341 ms. Found 9 JPA repository interfaces. 
.14:39:43.113 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@38eb2fb0' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.14:39:43.334 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.14:39:44.998 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http) 
.14:39:45.009 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"] 
.14:39:45.010 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat] 
.14:39:45.010 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.50] 
.14:39:45.274 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring embedded WebApplicationContext 
.14:39:45.275 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 6585 ms 
.14:39:45.733 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default] 
.14:39:45.881 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final 
.14:39:46.194 INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final} 
.14:39:46.308 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting... 
.14:39:46.471 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed. 
.14:39:46.495 INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect 
.14:39:46.543 INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true 
.14:39:50.159 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform] 
.14:39:50.166 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default' 
.14:39:50.460 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning 
.14:39:51.266 INFO  o.s.s.l.DefaultSpringSecurityContextSource -  URL 'ldap://192.168.101.47:389', root DN is '' 
.14:39:51.581 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.repository.CustomerRepository zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.customerRepo 
.14:39:51.581 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.repository.TicketRepository zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.ticketRepository 
.14:39:51.581 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.selfServiceCore.SelfServiceCoreProcessor zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.selfServiceCoreProcessor 
.14:39:53.743 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure Ant [pattern='/dialogflow/**'] with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d216ee8, org.springframework.security.web.context.SecurityContextPersistenceFilter@644f6e89, org.springframework.security.web.header.HeaderWriterFilter@72c5064f, org.springframework.security.web.authentication.logout.LogoutFilter@6dbdeb69, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@f472245, zw.co.cassavasmartech.ecocashchatbotcore.security.CustomFilter@74ee97cb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@60e5eed0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@608c2042, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@268e30d4, org.springframework.security.web.session.SessionManagementFilter@7533923b, org.springframework.security.web.access.ExceptionTranslationFilter@2aac87ab, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@201b52f7] 
.14:39:53.750 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@55d8f6bb, org.springframework.security.web.context.SecurityContextPersistenceFilter@281963c, org.springframework.security.web.header.HeaderWriterFilter@26728255, org.springframework.security.web.authentication.logout.LogoutFilter@7164e28a, zw.co.cassavasmartech.ecocashchatbotcore.security.JWTFilter@56b48163, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2a2815cc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@18fa5af6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@eb6ccbc, org.springframework.security.web.session.SessionManagementFilter@32c8d67, org.springframework.security.web.access.ExceptionTranslationFilter@28100232, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@b6b746b] 
.14:39:54.266 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"] 
.14:39:54.287 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/ecocashbotcore' 
.14:39:54.287 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Triggering deferred initialization of Spring Data repositories… 
.14:39:55.594 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Spring Data repositories initialized! 
.14:39:55.611 INFO  z.c.c.e.EcocashChatbotCoreApplication - Started EcocashChatbotCoreApplication in 17.52 seconds (JVM running for 18.048) 
.14:40:48.317 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring DispatcherServlet 'dispatcherServlet' 
.14:40:48.317 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet' 
.14:40:48.320 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms 
.14:40:48.550 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.14:40:49.145 INFO  z.c.c.e.d.DialogFlowServiceImpl - Processing dialogflow transaction request {
  "responseId": "8a84b8a0-b5ad-4984-b542-0bbcdcd2b5b8-dacfd3fa",
  "queryResult": {
    "queryText": "pin reset",
    "parameters": {},
    "allRequiredParamsPresent": true,
    "outputContexts": [
      {
        "name": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671/contexts/awaiting_pinreset_enrollment_confirmation",
        "lifespanCount": 1
      },
      {
        "name": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671/contexts/__system_counters__",
        "lifespanCount": 0,
        "parameters": {
          "no-input": 0.0,
          "no-match": 0.0
        }
      }
    ],
    "intent": {
      "name": "projects/the-attendant-hgawnh/agent/intents/cbd27331-6c49-4632-8f75-a3398cb8b7d2",
      "displayName": "usecase_pinreset"
    },
    "intentDetectionConfidence": 1.0,
    "languageCode": "en",
    "sentimentAnalysisResult": {
      "queryTextSentiment": {
        "score": -0.6,
        "magnitude": 0.6
      }
    }
  },
  "originalDetectIntentRequest": {
    "payload": {
      "To": "whatsapp:+14155238886",
      "NumSegments": "1",
      "SmsSid": "SM2f4397d4bda3ca0dcafd5ad23b71bffa",
      "WaId": "263783324671",
      "ProfileName": "justicemacheyo",
      "NumMedia": "0",
      "From": "whatsapp:+263783324671",
      "Body": "pin reset",
      "MessageSid": "SM2f4397d4bda3ca0dcafd5ad23b71bffa",
      "ApiVersion": "2010-04-01",
      "SmsStatus": "received",
      "AccountSid": "ACfa0a8d3546de35dd06e07580f418191c",
      "SmsMessageSid": "SM2f4397d4bda3ca0dcafd5ad23b71bffa"
    }
  },
  "session": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671"
}
 
.14:40:49.173 INFO  z.c.c.e.m.i.h.PinresetUsecaseHandler - Processing dialogflow intent: usecase_pinreset 
.14:40:49.303 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/ecocashbotcore] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause 
java.lang.NullPointerException: null
	at zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.isNewCustomer(DialogFlowUtil.java:116)
	at zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.intent.handler.pinreset.PinResetIntentHandler.getWebhookResponse(PinresetUsecaseHandler.java:18)
	at zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowServiceImpl.processWebhookCall(DialogFlowServiceImpl.java:83)
	at zw.co.cassavasmartech.ecocashchatbotcore.controller.DialogFlowController.inbound(DialogFlowController.java:23)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at zw.co.cassavasmartech.ecocashchatbotcore.security.CustomFilter.doFilter(CustomFilter.java:15)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:178)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
.14:41:54.306 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default' 
.14:41:54.308 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated... 
.14:41:54.318 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed. 
.14:41:58.314 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final 
.14:41:58.324 INFO  z.c.c.e.EcocashChatbotCoreApplication - Starting EcocashChatbotCoreApplication using Java 1.8.0_271 on LAPTOP-1JQH6S1S with PID 22496 (C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core\target\classes started by Kudzai Macheyo in C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core) 
.14:41:58.325 INFO  z.c.c.e.EcocashChatbotCoreApplication - The following profiles are active: dev 
.14:41:59.191 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode! 
.14:41:59.193 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFERRED mode. 
.14:41:59.339 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 141 ms. Found 9 JPA repository interfaces. 
.14:41:59.711 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4567e53d' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.14:41:59.717 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.14:42:00.232 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http) 
.14:42:00.239 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"] 
.14:42:00.239 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat] 
.14:42:00.239 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.50] 
.14:42:00.338 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring embedded WebApplicationContext 
.14:42:00.338 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1955 ms 
.14:42:00.518 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default] 
.14:42:00.575 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final 
.14:42:00.683 INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final} 
.14:42:00.774 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting... 
.14:42:00.904 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed. 
.14:42:00.929 INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect 
.14:42:00.978 INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true 
.14:42:02.661 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform] 
.14:42:02.671 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default' 
.14:42:02.756 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning 
.14:42:02.881 INFO  o.s.s.l.DefaultSpringSecurityContextSource -  URL 'ldap://192.168.101.47:389', root DN is '' 
.14:42:03.175 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.repository.CustomerRepository zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.customerRepo 
.14:42:03.175 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.repository.TicketRepository zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.ticketRepository 
.14:42:03.175 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.selfServiceCore.SelfServiceCoreProcessor zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.selfServiceCoreProcessor 
.14:42:04.001 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure Ant [pattern='/dialogflow/**'] with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d216ee8, org.springframework.security.web.context.SecurityContextPersistenceFilter@644f6e89, org.springframework.security.web.header.HeaderWriterFilter@72c5064f, org.springframework.security.web.authentication.logout.LogoutFilter@6dbdeb69, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@f472245, zw.co.cassavasmartech.ecocashchatbotcore.security.CustomFilter@74ee97cb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@60e5eed0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@608c2042, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@268e30d4, org.springframework.security.web.session.SessionManagementFilter@7533923b, org.springframework.security.web.access.ExceptionTranslationFilter@2aac87ab, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@201b52f7] 
.14:42:04.005 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@55d8f6bb, org.springframework.security.web.context.SecurityContextPersistenceFilter@281963c, org.springframework.security.web.header.HeaderWriterFilter@26728255, org.springframework.security.web.authentication.logout.LogoutFilter@7164e28a, zw.co.cassavasmartech.ecocashchatbotcore.security.JWTFilter@56b48163, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2a2815cc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@18fa5af6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@eb6ccbc, org.springframework.security.web.session.SessionManagementFilter@32c8d67, org.springframework.security.web.access.ExceptionTranslationFilter@28100232, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@b6b746b] 
.14:42:04.428 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"] 
.14:42:04.447 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/ecocashbotcore' 
.14:42:04.449 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Triggering deferred initialization of Spring Data repositories… 
.14:42:05.104 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Spring Data repositories initialized! 
.14:42:05.107 INFO  z.c.c.e.EcocashChatbotCoreApplication - Started EcocashChatbotCoreApplication in 7.169 seconds (JVM running for 7.652) 
.14:49:43.247 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default' 
.14:49:43.248 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated... 
.14:49:43.253 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed. 
.14:49:55.268 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final 
.14:49:55.284 INFO  z.c.c.e.EcocashChatbotCoreApplication - Starting EcocashChatbotCoreApplication using Java 1.8.0_271 on LAPTOP-1JQH6S1S with PID 5864 (C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core\target\classes started by Kudzai Macheyo in C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core) 
.14:49:55.284 INFO  z.c.c.e.EcocashChatbotCoreApplication - The following profiles are active: dev 
.14:49:58.250 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode! 
.14:49:58.252 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFERRED mode. 
.14:49:59.351 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1032 ms. Found 9 JPA repository interfaces. 
.14:50:00.662 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5e268ce6' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.14:50:00.675 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.14:50:02.680 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http) 
.14:50:02.763 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"] 
.14:50:02.765 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat] 
.14:50:02.766 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.50] 
.14:50:03.295 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring embedded WebApplicationContext 
.14:50:03.295 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 7759 ms 
.14:50:03.596 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default] 
.14:50:03.757 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final 
.14:50:04.552 INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final} 
.14:50:04.812 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting... 
.14:50:05.088 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed. 
.14:50:05.162 INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect 
.14:50:05.330 INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true 
.14:50:08.589 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform] 
.14:50:08.607 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default' 
.14:50:08.812 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning 
.14:50:10.256 INFO  o.s.s.l.DefaultSpringSecurityContextSource -  URL 'ldap://192.168.101.47:389', root DN is '' 
.14:50:11.200 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.repository.CustomerRepository zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.customerRepo 
.14:50:11.200 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.repository.TicketRepository zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.ticketRepository 
.14:50:11.201 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.selfServiceCore.SelfServiceCoreProcessor zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.selfServiceCoreProcessor 
.14:50:13.180 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure Ant [pattern='/dialogflow/**'] with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7164e28a, org.springframework.security.web.context.SecurityContextPersistenceFilter@7cc3a7f7, org.springframework.security.web.header.HeaderWriterFilter@758311ed, org.springframework.security.web.authentication.logout.LogoutFilter@1c3a64b6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@281963c, zw.co.cassavasmartech.ecocashchatbotcore.security.CustomFilter@1b881f1f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@c31419f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@59d29065, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@51efdb72, org.springframework.security.web.session.SessionManagementFilter@15a0f9, org.springframework.security.web.access.ExceptionTranslationFilter@5d9d8ecf, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@42ac309] 
.14:50:13.187 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@394b9e22, org.springframework.security.web.context.SecurityContextPersistenceFilter@5c43cb12, org.springframework.security.web.header.HeaderWriterFilter@106edde4, org.springframework.security.web.authentication.logout.LogoutFilter@b6b746b, zw.co.cassavasmartech.ecocashchatbotcore.security.JWTFilter@6e0f259e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5db66c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@633c0a61, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4fe9adfb, org.springframework.security.web.session.SessionManagementFilter@4d9cf71d, org.springframework.security.web.access.ExceptionTranslationFilter@39fc17be, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6b756a62] 
.14:50:14.711 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"] 
.14:50:14.770 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/ecocashbotcore' 
.14:50:14.772 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Triggering deferred initialization of Spring Data repositories… 
.14:50:16.140 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Spring Data repositories initialized! 
.14:50:16.158 INFO  z.c.c.e.EcocashChatbotCoreApplication - Started EcocashChatbotCoreApplication in 22.316 seconds (JVM running for 23.354) 
.14:50:20.034 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring DispatcherServlet 'dispatcherServlet' 
.14:50:20.035 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet' 
.14:50:20.036 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms 
.14:50:20.257 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.14:50:20.531 INFO  z.c.c.e.d.DialogFlowServiceImpl - Processing dialogflow transaction request {
  "responseId": "f946a5e1-53e8-409c-94cc-0d5be50e2855-dacfd3fa",
  "queryResult": {
    "queryText": "pin reset",
    "parameters": {},
    "allRequiredParamsPresent": true,
    "outputContexts": [
      {
        "name": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671/contexts/awaiting_pinreset_enrollment_confirmation",
        "lifespanCount": 1
      },
      {
        "name": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671/contexts/__system_counters__",
        "lifespanCount": 0,
        "parameters": {
          "no-input": 0.0,
          "no-match": 0.0
        }
      }
    ],
    "intent": {
      "name": "projects/the-attendant-hgawnh/agent/intents/cbd27331-6c49-4632-8f75-a3398cb8b7d2",
      "displayName": "usecase_pinreset"
    },
    "intentDetectionConfidence": 1.0,
    "languageCode": "en",
    "sentimentAnalysisResult": {
      "queryTextSentiment": {
        "score": -0.6,
        "magnitude": 0.6
      }
    }
  },
  "originalDetectIntentRequest": {
    "payload": {
      "WaId": "263783324671",
      "MessageSid": "SM2573ef30a7495b08ecca7af5cbf8dca6",
      "NumSegments": "1",
      "From": "whatsapp:+263783324671",
      "Body": "pin reset",
      "NumMedia": "0",
      "ApiVersion": "2010-04-01",
      "ProfileName": "justicemacheyo",
      "SmsStatus": "received",
      "SmsSid": "SM2573ef30a7495b08ecca7af5cbf8dca6",
      "SmsMessageSid": "SM2573ef30a7495b08ecca7af5cbf8dca6",
      "AccountSid": "ACfa0a8d3546de35dd06e07580f418191c",
      "To": "whatsapp:+14155238886"
    }
  },
  "session": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671"
}
 
.14:50:20.542 INFO  z.c.c.e.m.i.h.PinresetUsecaseHandler - Processing dialogflow intent: usecase_pinreset 
.14:50:20.633 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/ecocashbotcore] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause 
java.lang.NullPointerException: null
	at zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.isNewCustomer(DialogFlowUtil.java:115)
	at zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.intent.handler.pinreset.PinResetIntentHandler.getWebhookResponse(PinresetUsecaseHandler.java:18)
	at zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowServiceImpl.processWebhookCall(DialogFlowServiceImpl.java:83)
	at zw.co.cassavasmartech.ecocashchatbotcore.controller.DialogFlowController.inbound(DialogFlowController.java:23)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at zw.co.cassavasmartech.ecocashchatbotcore.security.CustomFilter.doFilter(CustomFilter.java:15)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:178)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
