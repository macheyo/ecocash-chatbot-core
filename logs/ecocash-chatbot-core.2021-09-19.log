.03:05:39.734 WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=12h6m47s555ms904µs400ns). 
.03:33:44.706 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default' 
.03:33:44.712 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated... 
.03:33:44.720 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed. 
.03:33:53.386 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final 
.03:33:53.395 INFO  z.c.c.e.EcocashChatbotCoreApplication - Starting EcocashChatbotCoreApplication using Java 1.8.0_271 on LAPTOP-1JQH6S1S with PID 19636 (C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core\target\classes started by Kudzai Macheyo in C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core) 
.03:33:53.395 INFO  z.c.c.e.EcocashChatbotCoreApplication - The following profiles are active: dev 
.03:33:55.519 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode! 
.03:33:55.519 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFERRED mode. 
.03:33:55.953 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 405 ms. Found 9 JPA repository interfaces. 
.03:33:56.716 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@2c306a57' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.03:33:56.728 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.03:33:57.881 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http) 
.03:33:57.915 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"] 
.03:33:57.915 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat] 
.03:33:57.915 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.50] 
.03:33:58.241 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring embedded WebApplicationContext 
.03:33:58.242 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4726 ms 
.03:33:58.713 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default] 
.03:33:58.876 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final 
.03:33:59.270 INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final} 
.03:33:59.596 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting... 
.03:34:00.001 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed. 
.03:34:00.076 INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect 
.03:34:00.242 INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true 
.03:34:04.999 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform] 
.03:34:05.017 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default' 
.03:34:05.231 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning 
.03:34:05.533 INFO  o.s.s.l.DefaultSpringSecurityContextSource -  URL 'ldap://192.168.101.47:389', root DN is '' 
.03:34:06.273 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.repository.CustomerRepository zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.customerRepo 
.03:34:06.273 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.repository.TicketRepository zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.ticketRepository 
.03:34:06.274 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.selfServiceCore.SelfServiceCoreProcessor zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.selfServiceCoreProcessor 
.03:34:08.027 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure Ant [pattern='/dialogflow/**'] with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@59d09ff3, org.springframework.security.web.context.SecurityContextPersistenceFilter@15a0f9, org.springframework.security.web.header.HeaderWriterFilter@680937c9, org.springframework.security.web.authentication.logout.LogoutFilter@55e88bc, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@51efdb72, zw.co.cassavasmartech.ecocashchatbotcore.security.CustomFilter@17d0d3d7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a13ad55, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5773f83d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@39fc17be, org.springframework.security.web.session.SessionManagementFilter@571c7572, org.springframework.security.web.access.ExceptionTranslationFilter@9ae0794, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@af007d6] 
.03:34:08.032 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7fe0ca60, org.springframework.security.web.context.SecurityContextPersistenceFilter@56b48163, org.springframework.security.web.header.HeaderWriterFilter@b6b746b, org.springframework.security.web.authentication.logout.LogoutFilter@3e1c5e0d, zw.co.cassavasmartech.ecocashchatbotcore.security.JWTFilter@fdf029a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@eb6ccbc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5eae392d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@63896cf7, org.springframework.security.web.session.SessionManagementFilter@55d8f6bb, org.springframework.security.web.access.ExceptionTranslationFilter@49322d04, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7de43652] 
.03:34:08.846 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"] 
.03:34:08.887 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/ecocashbotcore' 
.03:34:08.887 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Triggering deferred initialization of Spring Data repositories… 
.03:34:10.516 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Spring Data repositories initialized! 
.03:34:10.534 INFO  z.c.c.e.EcocashChatbotCoreApplication - Started EcocashChatbotCoreApplication in 17.708 seconds (JVM running for 18.884) 
.03:34:21.644 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring DispatcherServlet 'dispatcherServlet' 
.03:34:21.644 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet' 
.03:34:21.654 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 10 ms 
.03:34:21.870 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.03:34:22.492 INFO  z.c.c.e.d.DialogFlowServiceImpl - Processing dialogflow transaction request {
  "responseId": "f946a5e1-53e8-409c-94cc-0d5be50e2855-dacfd3fa",
  "queryResult": {
    "queryText": "pin reset",
    "parameters": {},
    "allRequiredParamsPresent": true,
    "outputContexts": [
      {
        "name": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671/contexts/awaiting_pinreset_enrollment_confirmation",
        "lifespanCount": 1
      },
      {
        "name": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671/contexts/__system_counters__",
        "lifespanCount": 0,
        "parameters": {
          "no-input": 0.0,
          "no-match": 0.0
        }
      }
    ],
    "intent": {
      "name": "projects/the-attendant-hgawnh/agent/intents/cbd27331-6c49-4632-8f75-a3398cb8b7d2",
      "displayName": "usecase_pinreset"
    },
    "intentDetectionConfidence": 1.0,
    "languageCode": "en",
    "sentimentAnalysisResult": {
      "queryTextSentiment": {
        "score": -0.6,
        "magnitude": 0.6
      }
    }
  },
  "originalDetectIntentRequest": {
    "payload": {
      "WaId": "263783324671",
      "MessageSid": "SM2573ef30a7495b08ecca7af5cbf8dca6",
      "NumSegments": "1",
      "From": "whatsapp:+263783324671",
      "Body": "pin reset",
      "NumMedia": "0",
      "ApiVersion": "2010-04-01",
      "ProfileName": "justicemacheyo",
      "SmsStatus": "received",
      "SmsSid": "SM2573ef30a7495b08ecca7af5cbf8dca6",
      "SmsMessageSid": "SM2573ef30a7495b08ecca7af5cbf8dca6",
      "AccountSid": "ACfa0a8d3546de35dd06e07580f418191c",
      "To": "whatsapp:+14155238886"
    }
  },
  "session": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671"
}
 
.03:34:22.525 INFO  z.c.c.e.m.i.h.PinresetUsecaseHandler - Processing dialogflow intent: usecase_pinreset 
.03:34:22.705 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/ecocashbotcore] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause 
java.lang.NullPointerException: null
	at java.util.Objects.requireNonNull(Objects.java:203)
	at java.util.Optional.<init>(Optional.java:96)
	at java.util.Optional.of(Optional.java:108)
	at zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.intent.handler.pinreset.PinResetIntentHandler.getWebhookResponse(PinresetUsecaseHandler.java:26)
	at zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowServiceImpl.processWebhookCall(DialogFlowServiceImpl.java:83)
	at zw.co.cassavasmartech.ecocashchatbotcore.controller.DialogFlowController.inbound(DialogFlowController.java:23)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at zw.co.cassavasmartech.ecocashchatbotcore.security.CustomFilter.doFilter(CustomFilter.java:15)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:178)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
.03:36:18.628 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default' 
.03:36:18.630 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated... 
.03:36:18.640 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed. 
.03:36:26.419 INFO  z.c.c.e.EcocashChatbotCoreApplication - Starting EcocashChatbotCoreApplication using Java 1.8.0_271 on LAPTOP-1JQH6S1S with PID 22504 (C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core\target\classes started by Kudzai Macheyo in C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core) 
.03:36:26.419 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final 
.03:36:26.422 INFO  z.c.c.e.EcocashChatbotCoreApplication - The following profiles are active: dev 
.03:36:28.247 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode! 
.03:36:28.249 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFERRED mode. 
.03:36:28.588 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 328 ms. Found 9 JPA repository interfaces. 
.03:36:29.509 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4074023c' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.03:36:29.516 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.03:36:30.449 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http) 
.03:36:30.468 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"] 
.03:36:30.469 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat] 
.03:36:30.469 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.50] 
.03:36:30.734 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring embedded WebApplicationContext 
.03:36:30.734 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4242 ms 
.03:36:31.160 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default] 
.03:36:31.284 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final 
.03:36:31.489 INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final} 
.03:36:31.635 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting... 
.03:36:31.931 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed. 
.03:36:32.024 INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect 
.03:36:32.175 INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true 
.03:36:36.712 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform] 
.03:36:36.732 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default' 
.03:36:36.922 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning 
.03:36:37.215 INFO  o.s.s.l.DefaultSpringSecurityContextSource -  URL 'ldap://192.168.101.47:389', root DN is '' 
.03:36:37.821 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.repository.CustomerRepository zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.customerRepo 
.03:36:37.822 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.repository.TicketRepository zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.ticketRepository 
.03:36:37.822 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.selfServiceCore.SelfServiceCoreProcessor zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.selfServiceCoreProcessor 
.03:36:39.823 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure Ant [pattern='/dialogflow/**'] with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@268e30d4, org.springframework.security.web.context.SecurityContextPersistenceFilter@779ef5cb, org.springframework.security.web.header.HeaderWriterFilter@2e5c7cd5, org.springframework.security.web.authentication.logout.LogoutFilter@7267006e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@42ac309, zw.co.cassavasmartech.ecocashchatbotcore.security.CustomFilter@7c50709a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43cc7951, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9ae0794, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@af007d6, org.springframework.security.web.session.SessionManagementFilter@453439e, org.springframework.security.web.access.ExceptionTranslationFilter@6686507b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@57806346] 
.03:36:39.829 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@eb6ccbc, org.springframework.security.web.context.SecurityContextPersistenceFilter@18fa5af6, org.springframework.security.web.header.HeaderWriterFilter@281963c, org.springframework.security.web.authentication.logout.LogoutFilter@51efdb72, zw.co.cassavasmartech.ecocashchatbotcore.security.JWTFilter@5eae392d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7fdabb3b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7164e28a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4cd1716d, org.springframework.security.web.session.SessionManagementFilter@2a2815cc, org.springframework.security.web.access.ExceptionTranslationFilter@32c8d67, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@56b48163] 
.03:36:40.770 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"] 
.03:36:40.808 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/ecocashbotcore' 
.03:36:40.810 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Triggering deferred initialization of Spring Data repositories… 
.03:36:42.074 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Spring Data repositories initialized! 
.03:36:42.090 INFO  z.c.c.e.EcocashChatbotCoreApplication - Started EcocashChatbotCoreApplication in 16.52 seconds (JVM running for 17.606) 
.03:37:08.301 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring DispatcherServlet 'dispatcherServlet' 
.03:37:08.304 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet' 
.03:37:08.306 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms 
.03:37:08.523 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.03:37:09.097 INFO  z.c.c.e.d.DialogFlowServiceImpl - Processing dialogflow transaction request {
  "responseId": "f946a5e1-53e8-409c-94cc-0d5be50e2855-dacfd3fa",
  "queryResult": {
    "queryText": "pin reset",
    "parameters": {},
    "allRequiredParamsPresent": true,
    "outputContexts": [
      {
        "name": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671/contexts/awaiting_pinreset_enrollment_confirmation",
        "lifespanCount": 1
      },
      {
        "name": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671/contexts/__system_counters__",
        "lifespanCount": 0,
        "parameters": {
          "no-input": 0.0,
          "no-match": 0.0
        }
      }
    ],
    "intent": {
      "name": "projects/the-attendant-hgawnh/agent/intents/cbd27331-6c49-4632-8f75-a3398cb8b7d2",
      "displayName": "usecase_pinreset"
    },
    "intentDetectionConfidence": 1.0,
    "languageCode": "en",
    "sentimentAnalysisResult": {
      "queryTextSentiment": {
        "score": -0.6,
        "magnitude": 0.6
      }
    }
  },
  "originalDetectIntentRequest": {
    "payload": {
      "WaId": "263783324671",
      "MessageSid": "SM2573ef30a7495b08ecca7af5cbf8dca6",
      "NumSegments": "1",
      "From": "whatsapp:+263783324671",
      "Body": "pin reset",
      "NumMedia": "0",
      "ApiVersion": "2010-04-01",
      "ProfileName": "justicemacheyo",
      "SmsStatus": "received",
      "SmsSid": "SM2573ef30a7495b08ecca7af5cbf8dca6",
      "SmsMessageSid": "SM2573ef30a7495b08ecca7af5cbf8dca6",
      "AccountSid": "ACfa0a8d3546de35dd06e07580f418191c",
      "To": "whatsapp:+14155238886"
    }
  },
  "session": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671"
}
 
.03:37:09.120 INFO  z.c.c.e.m.i.h.PinresetUsecaseHandler - Processing dialogflow intent: usecase_pinreset 
.03:37:09.300 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/ecocashbotcore] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause 
java.lang.NullPointerException: null
	at java.util.Objects.requireNonNull(Objects.java:203)
	at java.util.Optional.<init>(Optional.java:96)
	at java.util.Optional.of(Optional.java:108)
	at zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.intent.handler.pinreset.PinResetIntentHandler.getWebhookResponse(PinresetUsecaseHandler.java:26)
	at zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowServiceImpl.processWebhookCall(DialogFlowServiceImpl.java:83)
	at zw.co.cassavasmartech.ecocashchatbotcore.controller.DialogFlowController.inbound(DialogFlowController.java:23)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at zw.co.cassavasmartech.ecocashchatbotcore.security.CustomFilter.doFilter(CustomFilter.java:15)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:178)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
.03:38:26.652 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default' 
.03:38:26.655 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated... 
.03:38:26.669 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed. 
.03:38:33.269 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final 
.03:38:33.274 INFO  z.c.c.e.EcocashChatbotCoreApplication - Starting EcocashChatbotCoreApplication using Java 1.8.0_271 on LAPTOP-1JQH6S1S with PID 8932 (C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core\target\classes started by Kudzai Macheyo in C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core) 
.03:38:33.276 INFO  z.c.c.e.EcocashChatbotCoreApplication - The following profiles are active: dev 
.03:38:34.366 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode! 
.03:38:34.369 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFERRED mode. 
.03:38:34.677 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 298 ms. Found 9 JPA repository interfaces. 
.03:38:35.352 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5bb7643d' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.03:38:35.367 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.03:38:36.728 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http) 
.03:38:36.760 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"] 
.03:38:36.760 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat] 
.03:38:36.760 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.50] 
.03:38:37.029 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring embedded WebApplicationContext 
.03:38:37.029 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3674 ms 
.03:38:37.446 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default] 
.03:38:37.575 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final 
.03:38:37.858 INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final} 
.03:38:38.139 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting... 
.03:38:38.498 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed. 
.03:38:38.560 INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect 
.03:38:38.735 INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true 
.03:38:42.990 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform] 
.03:38:43.007 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default' 
.03:38:43.197 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning 
.03:38:43.485 INFO  o.s.s.l.DefaultSpringSecurityContextSource -  URL 'ldap://192.168.101.47:389', root DN is '' 
.03:38:43.933 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.repository.CustomerRepository zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.customerRepo 
.03:38:43.933 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.repository.TicketRepository zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.ticketRepository 
.03:38:43.933 INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - Autowired annotation is not supported on static fields: static zw.co.cassavasmartech.ecocashchatbotcore.selfServiceCore.SelfServiceCoreProcessor zw.co.cassavasmartech.ecocashchatbotcore.dialogflow.DialogFlowUtil.selfServiceCoreProcessor 
.03:38:45.147 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure Ant [pattern='/dialogflow/**'] with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@74ee97cb, org.springframework.security.web.context.SecurityContextPersistenceFilter@9ae0794, org.springframework.security.web.header.HeaderWriterFilter@4a0c04ab, org.springframework.security.web.authentication.logout.LogoutFilter@a238a8e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@110318a7, zw.co.cassavasmartech.ecocashchatbotcore.security.CustomFilter@268e30d4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@680937c9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e84a52b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c50709a, org.springframework.security.web.session.SessionManagementFilter@446981a4, org.springframework.security.web.access.ExceptionTranslationFilter@c14bbab, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@435a2c7d] 
.03:38:45.150 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@56b48163, org.springframework.security.web.context.SecurityContextPersistenceFilter@2a2815cc, org.springframework.security.web.header.HeaderWriterFilter@32c8d67, org.springframework.security.web.authentication.logout.LogoutFilter@1b881f1f, zw.co.cassavasmartech.ecocashchatbotcore.security.JWTFilter@eb6ccbc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18fa5af6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7fdabb3b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5eae392d, org.springframework.security.web.session.SessionManagementFilter@281963c, org.springframework.security.web.access.ExceptionTranslationFilter@26728255, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@55d8f6bb] 
.03:38:46.082 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"] 
.03:38:46.127 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/ecocashbotcore' 
.03:38:46.128 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Triggering deferred initialization of Spring Data repositories… 
.03:38:47.538 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Spring Data repositories initialized! 
.03:38:47.559 INFO  z.c.c.e.EcocashChatbotCoreApplication - Started EcocashChatbotCoreApplication in 14.902 seconds (JVM running for 15.589) 
.03:43:18.958 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring DispatcherServlet 'dispatcherServlet' 
.03:43:18.959 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet' 
.03:43:18.962 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms 
.03:43:19.178 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.03:43:19.774 INFO  z.c.c.e.d.DialogFlowServiceImpl - Processing dialogflow transaction request {
  "responseId": "f946a5e1-53e8-409c-94cc-0d5be50e2855-dacfd3fa",
  "queryResult": {
    "queryText": "pin reset",
    "parameters": {},
    "allRequiredParamsPresent": true,
    "outputContexts": [
      {
        "name": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671/contexts/awaiting_pinreset_enrollment_confirmation",
        "lifespanCount": 1
      },
      {
        "name": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671/contexts/__system_counters__",
        "lifespanCount": 0,
        "parameters": {
          "no-input": 0.0,
          "no-match": 0.0
        }
      }
    ],
    "intent": {
      "name": "projects/the-attendant-hgawnh/agent/intents/cbd27331-6c49-4632-8f75-a3398cb8b7d2",
      "displayName": "usecase_pinreset"
    },
    "intentDetectionConfidence": 1.0,
    "languageCode": "en",
    "sentimentAnalysisResult": {
      "queryTextSentiment": {
        "score": -0.6,
        "magnitude": 0.6
      }
    }
  },
  "originalDetectIntentRequest": {
    "payload": {
      "WaId": "263783324671",
      "MessageSid": "SM2573ef30a7495b08ecca7af5cbf8dca6",
      "NumSegments": "1",
      "From": "whatsapp:+263783324671",
      "Body": "pin reset",
      "NumMedia": "0",
      "ApiVersion": "2010-04-01",
      "ProfileName": "justicemacheyo",
      "SmsStatus": "received",
      "SmsSid": "SM2573ef30a7495b08ecca7af5cbf8dca6",
      "SmsMessageSid": "SM2573ef30a7495b08ecca7af5cbf8dca6",
      "AccountSid": "ACfa0a8d3546de35dd06e07580f418191c",
      "To": "whatsapp:+14155238886"
    }
  },
  "session": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671"
}
 
.03:43:19.799 INFO  z.c.c.e.m.i.h.PinresetUsecaseHandler - Processing dialogflow intent: usecase_pinreset 
.03:43:19.971 INFO  z.c.c.e.m.i.h.PinresetUsecaseHandler - Sending response to dialogFlow: {
  "fulfillmentText": "Alright , but before we reset your PIN, what is your Ecocash number?",
  "source": "ecocashchatbotcore"
}
 
.09:09:07.964 WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4h4m58s472ms895µs). 
.09:19:19.010 ERROR z.c.c.e.security.JwtTokenProvider - Invalid JWT token 
.09:19:19.120 INFO  z.c.c.e.security.AuthApi - Generate Token Request.... 
.09:19:19.567 ERROR z.c.c.e.security.JwtTokenProvider - Invalid JWT token 
.09:42:04.980 ERROR z.c.c.e.security.JwtTokenProvider - Invalid JWT token 
.09:42:04.987 INFO  z.c.c.e.security.AuthApi - Generate Token Request.... 
.09:42:05.203 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.10:01:24.794 ERROR z.c.c.e.security.JwtTokenProvider - Invalid JWT token 
.10:01:24.798 INFO  z.c.c.e.security.AuthApi - Generate Token Request.... 
.10:01:24.937 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.10:02:55.387 ERROR z.c.c.e.security.JwtTokenProvider - Invalid JWT token 
.10:02:55.392 INFO  z.c.c.e.security.AuthApi - Generate Token Request.... 
.10:02:55.435 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.10:04:40.987 ERROR z.c.c.e.security.JwtTokenProvider - Invalid JWT token 
.10:04:40.990 INFO  z.c.c.e.security.AuthApi - Generate Token Request.... 
.10:04:41.025 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.10:14:04.114 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default' 
.10:14:04.116 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated... 
.10:14:04.121 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed. 
.10:14:23.469 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final 
.10:14:23.481 INFO  z.c.c.e.EcocashChatbotCoreApplication - Starting EcocashChatbotCoreApplication using Java 1.8.0_271 on LAPTOP-1JQH6S1S with PID 25772 (C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core\target\classes started by Kudzai Macheyo in C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core) 
.10:14:23.481 INFO  z.c.c.e.EcocashChatbotCoreApplication - The following profiles are active: dev 
.10:14:25.282 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode! 
.10:14:25.284 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFERRED mode. 
.10:14:25.578 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 282 ms. Found 9 JPA repository interfaces. 
.10:14:26.432 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4567e53d' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.10:14:26.450 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.10:14:27.847 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http) 
.10:14:27.878 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"] 
.10:14:27.880 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat] 
.10:14:27.880 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.50] 
.10:14:28.194 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring embedded WebApplicationContext 
.10:14:28.194 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4613 ms 
.10:14:28.642 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default] 
.10:14:28.797 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final 
.10:14:29.173 INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final} 
.10:14:29.475 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting... 
.10:14:29.843 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed. 
.10:14:29.920 INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect 
.10:14:30.074 INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true 
.10:14:34.601 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform] 
.10:14:34.619 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default' 
.10:14:34.814 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning 
.10:14:35.171 INFO  o.s.s.l.DefaultSpringSecurityContextSource -  URL 'ldap://192.168.101.47:389', root DN is '' 
.10:14:38.390 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure Ant [pattern='/dialogflow/**'] with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3ab70d34, org.springframework.security.web.context.SecurityContextPersistenceFilter@675bf541, org.springframework.security.web.header.HeaderWriterFilter@7a17ffee, org.springframework.security.web.authentication.logout.LogoutFilter@15a0f9, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@201b52f7, zw.co.cassavasmartech.ecocashchatbotcore.security.CustomFilter@289cf7db, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@c14bbab, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@779ef5cb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c523bdd, org.springframework.security.web.session.SessionManagementFilter@f252762, org.springframework.security.web.access.ExceptionTranslationFilter@5e6bbe63, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@634d3439] 
.10:14:38.401 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7bc6b117, org.springframework.security.web.context.SecurityContextPersistenceFilter@42ac309, org.springframework.security.web.header.HeaderWriterFilter@f472245, org.springframework.security.web.authentication.logout.LogoutFilter@268e30d4, zw.co.cassavasmartech.ecocashchatbotcore.security.JWTFilter@2de07c57, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b4228cf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7d216ee8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@76cbee13, org.springframework.security.web.session.SessionManagementFilter@110318a7, org.springframework.security.web.access.ExceptionTranslationFilter@7607340f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@51efdb72] 
.10:14:39.325 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"] 
.10:14:39.373 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/ecocashbotcore' 
.10:14:39.374 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Triggering deferred initialization of Spring Data repositories… 
.10:14:40.951 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Spring Data repositories initialized! 
.10:14:40.962 INFO  z.c.c.e.EcocashChatbotCoreApplication - Started EcocashChatbotCoreApplication in 18.42 seconds (JVM running for 19.561) 
.10:19:55.559 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring DispatcherServlet 'dispatcherServlet' 
.10:19:55.559 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet' 
.10:19:55.560 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms 
.10:19:55.643 ERROR z.c.c.e.security.JwtTokenProvider - Invalid JWT token 
.10:19:55.845 INFO  z.c.c.e.security.AuthApi - Generate Token Request.... 
.10:19:56.192 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.10:23:10.128 ERROR z.c.c.e.security.JwtTokenProvider - Invalid JWT token 
.10:23:10.130 INFO  z.c.c.e.security.AuthApi - Generate Token Request.... 
.10:23:10.195 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.10:27:49.756 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default' 
.10:27:49.759 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated... 
.10:27:49.775 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed. 
.10:27:53.770 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final 
.10:27:53.772 INFO  z.c.c.e.EcocashChatbotCoreApplication - Starting EcocashChatbotCoreApplication using Java 1.8.0_271 on LAPTOP-1JQH6S1S with PID 20204 (C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core\target\classes started by Kudzai Macheyo in C:\Users\Kudzai Macheyo\IdeaProjects\ecocash-chatbot-core) 
.10:27:53.772 INFO  z.c.c.e.EcocashChatbotCoreApplication - The following profiles are active: dev 
.10:27:54.637 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode! 
.10:27:54.639 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFERRED mode. 
.10:27:54.773 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 127 ms. Found 9 JPA repository interfaces. 
.10:27:55.157 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@1436a7ab' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.10:27:55.163 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 
.10:27:55.696 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http) 
.10:27:55.705 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"] 
.10:27:55.705 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat] 
.10:27:55.705 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.50] 
.10:27:55.811 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring embedded WebApplicationContext 
.10:27:55.811 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1978 ms 
.10:27:55.982 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default] 
.10:27:56.040 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final 
.10:27:56.157 INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final} 
.10:27:56.248 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting... 
.10:27:56.396 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed. 
.10:27:56.419 INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect 
.10:27:56.471 INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true 
.10:27:58.139 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform] 
.10:27:58.141 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default' 
.10:27:58.232 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning 
.10:27:58.360 INFO  o.s.s.l.DefaultSpringSecurityContextSource -  URL 'ldap://192.168.101.47:389', root DN is '' 
.10:27:59.406 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure Ant [pattern='/dialogflow/**'] with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@22d47f09, org.springframework.security.web.context.SecurityContextPersistenceFilter@608c2042, org.springframework.security.web.header.HeaderWriterFilter@c14bbab, org.springframework.security.web.authentication.logout.LogoutFilter@237c8718, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7c50709a, zw.co.cassavasmartech.ecocashchatbotcore.security.CustomFilter@28100232, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@40199d5e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4840ec68, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@26728255, org.springframework.security.web.session.SessionManagementFilter@e460ca1, org.springframework.security.web.access.ExceptionTranslationFilter@675bf541, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3741071d] 
.10:27:59.408 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@29bf90fc, org.springframework.security.web.context.SecurityContextPersistenceFilter@7bc6b117, org.springframework.security.web.header.HeaderWriterFilter@1b881f1f, org.springframework.security.web.authentication.logout.LogoutFilter@17d0d3d7, zw.co.cassavasmartech.ecocashchatbotcore.security.JWTFilter@6e22d6bf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2de07c57, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@76cbee13, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32121140, org.springframework.security.web.session.SessionManagementFilter@51efdb72, org.springframework.security.web.access.ExceptionTranslationFilter@7164e28a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6f7a65e] 
.10:27:59.786 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"] 
.10:27:59.806 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/ecocashbotcore' 
.10:27:59.806 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Triggering deferred initialization of Spring Data repositories… 
.10:28:00.394 INFO  o.s.d.r.c.DeferredRepositoryInitializationListener - Spring Data repositories initialized! 
.10:28:00.399 INFO  z.c.c.e.EcocashChatbotCoreApplication - Started EcocashChatbotCoreApplication in 7.0 seconds (JVM running for 7.463) 
.15:40:57.304 WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2h25m29s11ms780µs400ns). 
.15:44:10.763 INFO  o.a.c.c.C.[.[.[/ecocashbotcore] - Initializing Spring DispatcherServlet 'dispatcherServlet' 
.15:44:10.763 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet' 
.15:44:10.771 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 8 ms 
.15:44:10.856 ERROR z.c.c.e.security.JwtTokenProvider - Invalid JWT token 
.15:44:11.031 INFO  z.c.c.e.security.AuthApi - Generate Token Request.... 
.15:44:11.454 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.15:55:12.312 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.15:55:12.669 INFO  z.c.c.e.d.DialogFlowServiceImpl - Processing dialogflow transaction request {
  "responseId": "f946a5e1-53e8-409c-94cc-0d5be50e2855-dacfd3fa",
  "queryResult": {
    "queryText": "pin reset",
    "parameters": {},
    "allRequiredParamsPresent": true,
    "outputContexts": [
      {
        "name": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671/contexts/awaiting_pinreset_enrollment_confirmation",
        "lifespanCount": 1
      },
      {
        "name": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671/contexts/__system_counters__",
        "lifespanCount": 0,
        "parameters": {
          "no-input": 0.0,
          "no-match": 0.0
        }
      }
    ],
    "intent": {
      "name": "projects/the-attendant-hgawnh/agent/intents/cbd27331-6c49-4632-8f75-a3398cb8b7d2",
      "displayName": "usecase_pinreset"
    },
    "intentDetectionConfidence": 1.0,
    "languageCode": "en",
    "sentimentAnalysisResult": {
      "queryTextSentiment": {
        "score": -0.6,
        "magnitude": 0.6
      }
    }
  },
  "originalDetectIntentRequest": {
    "payload": {
      "WaId": "263783324671",
      "MessageSid": "SM2573ef30a7495b08ecca7af5cbf8dca6",
      "NumSegments": "1",
      "From": "whatsapp:+263783324671",
      "Body": "pin reset",
      "NumMedia": "0",
      "ApiVersion": "2010-04-01",
      "ProfileName": "justicemacheyo",
      "SmsStatus": "received",
      "SmsSid": "SM2573ef30a7495b08ecca7af5cbf8dca6",
      "SmsMessageSid": "SM2573ef30a7495b08ecca7af5cbf8dca6",
      "AccountSid": "ACfa0a8d3546de35dd06e07580f418191c",
      "To": "whatsapp:+14155238886"
    }
  },
  "session": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671"
}
 
.15:55:12.696 INFO  z.c.c.e.m.i.h.PinresetUsecaseHandler - Processing dialogflow intent: usecase_pinreset 
.15:55:12.716 INFO  z.c.c.e.m.i.h.PinresetUsecaseHandler - Sending response to dialogFlow: {
  "fulfillmentText": " Alright , but before we reset your PIN, what is your EcoCash number?",
  "source": "ecocashchatbotcore"
}
 
.15:56:26.796 INFO  o.s.s.l.SpringSecurityLdapTemplate - Ignoring PartialResultException 
.15:56:27.024 INFO  z.c.c.e.d.DialogFlowServiceImpl - Processing dialogflow transaction request {
  "responseId": "f946a5e1-53e8-409c-94cc-0d5be50e2855-dacfd3fa",
  "queryResult": {
    "queryText": "pin reset",
    "parameters": {},
    "allRequiredParamsPresent": true,
    "outputContexts": [
      {
        "name": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671/contexts/awaiting_pinreset_enrollment_confirmation",
        "lifespanCount": 1
      },
      {
        "name": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671/contexts/__system_counters__",
        "lifespanCount": 0,
        "parameters": {
          "no-input": 0.0,
          "no-match": 0.0
        }
      }
    ],
    "intent": {
      "name": "projects/the-attendant-hgawnh/agent/intents/cbd27331-6c49-4632-8f75-a3398cb8b7d2",
      "displayName": "usecase_pinreset"
    },
    "intentDetectionConfidence": 1.0,
    "languageCode": "en",
    "sentimentAnalysisResult": {
      "queryTextSentiment": {
        "score": -0.6,
        "magnitude": 0.6
      }
    }
  },
  "originalDetectIntentRequest": {
    "payload": {
      "WaId": "263783324671",
      "MessageSid": "SM2573ef30a7495b08ecca7af5cbf8dca6",
      "NumSegments": "1",
      "From": "whatsapp:+263783324671",
      "Body": "pin reset",
      "NumMedia": "0",
      "ApiVersion": "2010-04-01",
      "ProfileName": "justicemacheyo",
      "SmsStatus": "received",
      "SmsSid": "SM2573ef30a7495b08ecca7af5cbf8dca6",
      "SmsMessageSid": "SM2573ef30a7495b08ecca7af5cbf8dca6",
      "AccountSid": "ACfa0a8d3546de35dd06e07580f418191c",
      "To": "whatsapp:+14155238886"
    }
  },
  "session": "projects/the-attendant-hgawnh/agent/sessions/whatsapp:+263783324671"
}
 
.15:56:27.031 INFO  z.c.c.e.m.i.h.PinresetUsecaseHandler - Processing dialogflow intent: usecase_pinreset 
.15:56:27.049 INFO  z.c.c.e.m.i.h.PinresetUsecaseHandler - Sending response to dialogFlow: {
  "fulfillmentText": " Alright 😊, but before we reset your PIN, what is your EcoCash number?",
  "source": "ecocashchatbotcore"
}
 
.21:10:50.926 WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h20m32s805ms77µs800ns). 
